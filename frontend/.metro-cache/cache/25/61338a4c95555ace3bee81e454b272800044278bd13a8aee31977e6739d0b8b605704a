{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":13,"index":119},"end":{"line":7,"column":35,"index":141}}],"key":"isk6DFwvBR7hH+nInAlMqUOxHEs=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":45,"index":188},"end":{"line":8,"column":72,"index":215}}],"key":"Dyu05fXkMyZwC6kSiKGxm+x47LU=","exportNames":["*"],"imports":1}},{"name":"../detectors/RotationGestureDetector","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":54,"index":272},"end":{"line":9,"column":101,"index":319}}],"key":"ZNTq50C1+dQfYgBkFo03GBsUbks=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.default=void 0;var t=r(d[0]),e=n(r(d[1])),o=n(r(d[2]));function n(t){return t&&t.__esModule?t:{default:t}}const s=Math.PI/36;class h extends e.default{rotation=0;velocity=0;cachedAnchorX=0;cachedAnchorY=0;rotationGestureListener={onRotationBegin:t=>!0,onRotation:e=>{const o=this.rotation;this.rotation+=e.rotation;const n=e.timeDelta;return n>0&&(this.velocity=(this.rotation-o)/n),Math.abs(this.rotation)>=s&&this.state===t.State.BEGAN&&this.activate(),!0},onRotationEnd:t=>{this.end()}};rotationGestureDetector=new o.default(this.rotationGestureListener);init(t,e){super.init(t,e),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{rotation:this.rotation?this.rotation:0,anchorX:this.getAnchorX(),anchorY:this.getAnchorY(),velocity:this.velocity?this.velocity:0}}getAnchorX(){const t=this.rotationGestureDetector.anchorX;return t||this.cachedAnchorX}getAnchorY(){const t=this.rotationGestureDetector.anchorY;return t||this.cachedAnchorY}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.rotationGestureDetector.onTouchEvent(t,this.tracker)}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}onPointerUp(e){super.onPointerUp(e),this.tracker.removeFromTracker(e.pointerId),this.rotationGestureDetector.onTouchEvent(e,this.tracker),this.state===t.State.ACTIVE&&(this.state===t.State.ACTIVE?this.end():this.fail())}onPointerRemove(t){super.onPointerRemove(t),this.rotationGestureDetector.onTouchEvent(t,this.tracker),this.tracker.removeFromTracker(t.pointerId)}tryBegin(){this.state===t.State.UNDETERMINED&&this.begin()}onReset(){this.state!==t.State.ACTIVE&&(this.rotation=0,this.velocity=0,this.rotationGestureDetector.reset())}}_e.default=h});","lineCount":1,"map":[[1,29,1,0],[1,42,3,0,"Object"],[1,49,3,7,"defineProperty"],[1,64,3,22,"exports"],[1,67,3,31],[1,80,3,45],[1,81,4,2,"value"],[1,88,4,9],[1,92,6,0,"exports"],[1,95,6,8,"default"],[1,108,6,15,"undefined"],[1,110,7,0],[1,114,7,4,"_State"],[1,116,7,13,"require"],[1,118,7,20,"d"],[1,120,7,20],[1,124,8,4,"_GestureHandler"],[1,126,8,22,"_interopRequireDefault"],[1,128,8,45,"require"],[1,130,8,52,"d"],[1,132,8,52],[1,137,9,4,"_RotationGestureDetector"],[1,139,9,31,"_interopRequireDefault"],[1,141,9,54,"require"],[1,143,9,61,"d"],[1,145,9,61],[1,150,10,0],[1,159,10,9,"_interopRequireDefault"],[1,161,10,32,"e"],[1,164,10,37],[1,171,10,44,"e"],[1,174,10,49,"e"],[1,176,10,51,"__esModule"],[1,187,10,64,"e"],[1,189,10,68],[1,190,10,70,"default"],[1,198,10,79,"e"],[1,200,10,84],[1,201,11,0],[1,207,11,6,"ROTATION_RECOGNITION_THRESHOLD"],[1,209,11,39,"Math"],[1,214,11,44,"PI"],[1,217,11,49],[1,220,12,0],[1,226,12,6,"RotationGestureHandler"],[1,236,12,37,"_GestureHandler"],[1,238,12,53,"default"],[1,246,13,2,"rotation"],[1,255,13,13],[1,257,14,2,"velocity"],[1,266,14,13],[1,268,15,2,"cachedAnchorX"],[1,282,15,18],[1,284,16,2,"cachedAnchorY"],[1,298,16,18],[1,300,17,2,"rotationGestureListener"],[1,324,17,28],[1,325,18,4,"onRotationBegin"],[1,341,18,21,"_detector"],[1,345,18,34],[1,347,19,4,"onRotation"],[1,358,19,16,"detector"],[1,362,20,6],[1,368,20,12,"previousRotation"],[1,370,20,31,"this"],[1,375,20,36,"rotation"],[1,384,21,6,"this"],[1,389,21,11,"rotation"],[1,399,21,23,"detector"],[1,401,21,32,"rotation"],[1,410,22,6],[1,416,22,12,"delta"],[1,418,22,20,"detector"],[1,420,22,29,"timeDelta"],[1,430,29,6],[1,437,23,10,"delta"],[1,439,23,18],[1,443,24,8,"this"],[1,448,24,13,"velocity"],[1,458,24,25,"this"],[1,463,24,30,"rotation"],[1,472,24,41,"previousRotation"],[1,475,24,61,"delta"],[1,478,26,10,"Math"],[1,483,26,15,"abs"],[1,487,26,19,"this"],[1,492,26,24,"rotation"],[1,503,26,37,"ROTATION_RECOGNITION_THRESHOLD"],[1,506,26,71,"this"],[1,511,26,76,"state"],[1,519,26,86,"_State"],[1,521,26,93,"State"],[1,527,26,99,"BEGAN"],[1,534,27,8,"this"],[1,539,27,13,"activate"],[1,551,29,13],[1,554,31,4,"onRotationEnd"],[1,568,31,19,"_detector"],[1,572,32,6,"this"],[1,577,32,11,"end"],[1,585,35,2,"rotationGestureDetector"],[1,609,35,28],[1,613,35,32,"_RotationGestureDetector"],[1,615,35,57,"default"],[1,623,35,65,"this"],[1,628,35,70,"rotationGestureListener"],[1,653,36,2,"init"],[1,658,36,7,"ref"],[1,660,36,12,"propsRef"],[1,663,37,4,"super"],[1,669,37,10,"init"],[1,674,37,15,"ref"],[1,676,37,20,"propsRef"],[1,679,38,4,"this"],[1,684,38,9,"shouldCancelWhenOutside"],[1,709,38,35],[1,710,39,2],[1,711,40,2,"transformNativeEvent"],[1,734,41,4],[1,740,41,11],[1,741,42,6,"rotation"],[1,750,42,16,"this"],[1,755,42,21,"rotation"],[1,764,42,32,"this"],[1,769,42,37,"rotation"],[1,778,42,48],[1,780,43,6,"anchorX"],[1,788,43,15,"this"],[1,793,43,20,"getAnchorX"],[1,806,44,6,"anchorY"],[1,814,44,15,"this"],[1,819,44,20,"getAnchorY"],[1,832,45,6,"velocity"],[1,841,45,16,"this"],[1,846,45,21,"velocity"],[1,855,45,32,"this"],[1,860,45,37,"velocity"],[1,869,45,48],[1,871,47,2],[1,872,48,2,"getAnchorX"],[1,885,49,4],[1,891,49,10,"anchorX"],[1,893,49,20,"this"],[1,898,49,25,"rotationGestureDetector"],[1,922,49,49,"anchorX"],[1,930,50,4],[1,937,50,11,"anchorX"],[1,940,50,31,"this"],[1,945,50,36,"cachedAnchorX"],[1,958,51,2],[1,959,52,2,"getAnchorY"],[1,972,53,4],[1,978,53,10,"anchorY"],[1,980,53,20,"this"],[1,985,53,25,"rotationGestureDetector"],[1,1009,53,49,"anchorY"],[1,1017,54,4],[1,1024,54,11,"anchorY"],[1,1027,54,31,"this"],[1,1032,54,36,"cachedAnchorY"],[1,1045,55,2],[1,1046,56,2,"onPointerDown"],[1,1060,56,16,"event"],[1,1063,57,4,"this"],[1,1068,57,9,"tracker"],[1,1076,57,17,"addToTracker"],[1,1089,57,30,"event"],[1,1092,58,4,"super"],[1,1098,58,10,"onPointerDown"],[1,1112,58,24,"event"],[1,1115,59,4,"this"],[1,1120,59,9,"tryToSendTouchEvent"],[1,1140,59,29,"event"],[1,1142,60,2],[1,1143,61,2,"onPointerAdd"],[1,1156,61,15,"event"],[1,1159,62,4,"this"],[1,1164,62,9,"tracker"],[1,1172,62,17,"addToTracker"],[1,1185,62,30,"event"],[1,1188,63,4,"super"],[1,1194,63,10,"onPointerAdd"],[1,1207,63,23,"event"],[1,1210,64,4,"this"],[1,1215,64,9,"tryBegin"],[1,1226,65,4,"this"],[1,1231,65,9,"rotationGestureDetector"],[1,1255,65,33,"onTouchEvent"],[1,1268,65,46,"event"],[1,1270,65,53,"this"],[1,1275,65,58,"tracker"],[1,1283,66,2],[1,1284,67,2,"onPointerMove"],[1,1298,67,16,"event"],[1,1301,68,8,"this"],[1,1306,68,13,"tracker"],[1,1314,68,21,"trackedPointersCount"],[1,1335,68,44],[1,1339,71,8,"this"],[1,1344,71,13,"getAnchorX"],[1,1359,72,6,"this"],[1,1364,72,11,"cachedAnchorX"],[1,1378,72,27,"this"],[1,1383,72,32,"getAnchorX"],[1,1397,74,8,"this"],[1,1402,74,13,"getAnchorY"],[1,1417,75,6,"this"],[1,1422,75,11,"cachedAnchorY"],[1,1436,75,27,"this"],[1,1441,75,32,"getAnchorY"],[1,1455,77,4,"this"],[1,1460,77,9,"tracker"],[1,1468,77,17,"track"],[1,1474,77,23,"event"],[1,1477,78,4,"this"],[1,1482,78,9,"rotationGestureDetector"],[1,1506,78,33,"onTouchEvent"],[1,1519,78,46,"event"],[1,1521,78,53,"this"],[1,1526,78,58,"tracker"],[1,1535,79,4,"super"],[1,1541,79,10,"onPointerMove"],[1,1555,79,24,"event"],[1,1558,80,2],[1,1559,81,2,"onPointerOutOfBounds"],[1,1580,81,23,"event"],[1,1583,82,8,"this"],[1,1588,82,13,"tracker"],[1,1596,82,21,"trackedPointersCount"],[1,1617,82,44],[1,1621,85,8,"this"],[1,1626,85,13,"getAnchorX"],[1,1641,86,6,"this"],[1,1646,86,11,"cachedAnchorX"],[1,1660,86,27,"this"],[1,1665,86,32,"getAnchorX"],[1,1679,88,8,"this"],[1,1684,88,13,"getAnchorY"],[1,1699,89,6,"this"],[1,1704,89,11,"cachedAnchorY"],[1,1718,89,27,"this"],[1,1723,89,32,"getAnchorY"],[1,1737,91,4,"this"],[1,1742,91,9,"tracker"],[1,1750,91,17,"track"],[1,1756,91,23,"event"],[1,1759,92,4,"this"],[1,1764,92,9,"rotationGestureDetector"],[1,1788,92,33,"onTouchEvent"],[1,1801,92,46,"event"],[1,1803,92,53,"this"],[1,1808,92,58,"tracker"],[1,1817,93,4,"super"],[1,1823,93,10,"onPointerOutOfBounds"],[1,1844,93,31,"event"],[1,1847,94,2],[1,1848,95,2,"onPointerUp"],[1,1860,95,14,"event"],[1,1863,96,4,"super"],[1,1869,96,10,"onPointerUp"],[1,1881,96,22,"event"],[1,1884,97,4,"this"],[1,1889,97,9,"tracker"],[1,1897,97,17,"removeFromTracker"],[1,1915,97,35,"event"],[1,1917,97,41,"pointerId"],[1,1928,98,4,"this"],[1,1933,98,9,"rotationGestureDetector"],[1,1957,98,33,"onTouchEvent"],[1,1970,98,46,"event"],[1,1972,98,53,"this"],[1,1977,98,58,"tracker"],[1,1986,99,8,"this"],[1,1991,99,13,"state"],[1,1999,99,23,"_State"],[1,2001,99,30,"State"],[1,2007,99,36,"ACTIVE"],[1,2016,102,8,"this"],[1,2021,102,13,"state"],[1,2029,102,23,"_State"],[1,2031,102,30,"State"],[1,2037,102,36,"ACTIVE"],[1,2044,103,6,"this"],[1,2049,103,11,"end"],[1,2055,105,6,"this"],[1,2060,105,11,"fail"],[1,2067,107,2],[1,2068,108,2,"onPointerRemove"],[1,2084,108,18,"event"],[1,2087,109,4,"super"],[1,2093,109,10,"onPointerRemove"],[1,2109,109,26,"event"],[1,2112,110,4,"this"],[1,2117,110,9,"rotationGestureDetector"],[1,2141,110,33,"onTouchEvent"],[1,2154,110,46,"event"],[1,2156,110,53,"this"],[1,2161,110,58,"tracker"],[1,2170,111,4,"this"],[1,2175,111,9,"tracker"],[1,2183,111,17,"removeFromTracker"],[1,2201,111,35,"event"],[1,2203,111,41,"pointerId"],[1,2213,112,2],[1,2214,113,2,"tryBegin"],[1,2225,114,8,"this"],[1,2230,114,13,"state"],[1,2238,114,23,"_State"],[1,2240,114,30,"State"],[1,2246,114,36,"UNDETERMINED"],[1,2260,117,4,"this"],[1,2265,117,9,"begin"],[1,2272,118,2],[1,2273,119,2,"onReset"],[1,2283,120,8,"this"],[1,2288,120,13,"state"],[1,2296,120,23,"_State"],[1,2298,120,30,"State"],[1,2304,120,36,"ACTIVE"],[1,2313,123,4,"this"],[1,2318,123,9,"rotation"],[1,2327,123,20],[1,2329,124,4,"this"],[1,2334,124,9,"velocity"],[1,2343,124,20],[1,2345,125,4,"this"],[1,2350,125,9,"rotationGestureDetector"],[1,2374,125,33,"reset"],[1,2382,126,2],[1,2384,128,0,"exports"],[1,2387,128,8,"default"],[1,2395,128,18,"RotationGestureHandler"],[1,2396,128,41],[1,2399]],"functionMap":{"names":["<global>","_interopRequireDefault","RotationGestureHandler","rotationGestureListener.onRotationBegin","rotationGestureListener.onRotation","rotationGestureListener.onRotationEnd","init","transformNativeEvent","getAnchorX","getAnchorY","onPointerDown","onPointerAdd","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","tryBegin","onReset"],"mappings":"AAA;ACS,qFD;AEE;qBCM,iBD;gBEC;KFW;mBGC;KHE;EIG;GJG;EKC;GLO;EMC;GNG;EOC;GPG;EQC;GRI;ESC;GTK;EUC;GVa;EWC;GXa;EYC;GZY;EaC;GbI;EcC;GdK;EeC;GfO;CFC"},"hasCjsExports":true},"type":"js/module"}]}