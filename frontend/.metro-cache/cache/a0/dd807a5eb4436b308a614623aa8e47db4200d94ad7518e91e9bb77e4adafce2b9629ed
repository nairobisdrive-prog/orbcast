{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":13,"index":119},"end":{"line":7,"column":35,"index":141}}],"key":"isk6DFwvBR7hH+nInAlMqUOxHEs=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":45,"index":188},"end":{"line":8,"column":72,"index":215}}],"key":"Dyu05fXkMyZwC6kSiKGxm+x47LU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.default=void 0;var t,e=r(d[0]),s=(t=r(d[1]))&&t.__esModule?t:{default:t};class n extends s.default{minDurationMs=500;defaultMaxDistSq=100;maxDistSq=this.defaultMaxDistSq;numberOfPointers=1;startX=0;startY=0;startTime=0;previousTime=0;init(t,e){void 0===this.config.enableContextMenu&&(this.config.enableContextMenu=!1),super.init(t,e)}transformNativeEvent(){return{...super.transformNativeEvent(),duration:Date.now()-this.startTime}}updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),void 0!==this.config.minDurationMs&&(this.minDurationMs=this.config.minDurationMs),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),void 0!==this.config.numberOfPointers&&(this.numberOfPointers=this.config.numberOfPointers)}resetConfig(){super.resetConfig(),this.minDurationMs=500,this.maxDistSq=this.defaultMaxDistSq}onStateChange(t,e){clearTimeout(this.activationTimeout)}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),super.onPointerDown(t),this.startX=t.x,this.startY=t.y,this.tryBegin(),this.tryActivate(),this.tryToSendTouchEvent(t))}onPointerAdd(t){if(super.onPointerAdd(t),this.tracker.addToTracker(t),this.tracker.trackedPointersCount>this.numberOfPointers)return void this.fail();const e=this.tracker.getAbsoluteCoordsAverage();this.startX=e.x,this.startY=e.y,this.tryActivate()}onPointerMove(t){super.onPointerMove(t),this.tracker.track(t),this.checkDistanceFail()}onPointerOutOfBounds(t){super.onPointerOutOfBounds(t),this.tracker.track(t),this.checkDistanceFail()}onPointerUp(t){super.onPointerUp(t),this.tracker.removeFromTracker(t.pointerId),this.state===e.State.ACTIVE?this.end():this.fail()}onPointerRemove(t){super.onPointerRemove(t),this.tracker.removeFromTracker(t.pointerId),this.tracker.trackedPointersCount<this.numberOfPointers&&this.state!==e.State.ACTIVE&&this.fail()}tryBegin(){this.state===e.State.UNDETERMINED&&(this.previousTime=Date.now(),this.startTime=this.previousTime,this.begin())}tryActivate(){this.tracker.trackedPointersCount===this.numberOfPointers&&(this.minDurationMs>0?this.activationTimeout=setTimeout(()=>{this.activate()},this.minDurationMs):0===this.minDurationMs&&this.activate())}checkDistanceFail(){const t=this.tracker.getAbsoluteCoordsAverage(),s=t.x-this.startX,n=t.y-this.startY;s*s+n*n<=this.maxDistSq||(this.state===e.State.ACTIVE?this.cancel():this.fail())}}_e.default=n});","lineCount":1,"map":[[1,29,1,0],[1,42,3,0,"Object"],[1,49,3,7,"defineProperty"],[1,64,3,22,"exports"],[1,67,3,31],[1,80,3,45],[1,81,4,2,"value"],[1,88,4,9],[1,92,6,0,"exports"],[1,95,6,8,"default"],[1,108,6,15,"undefined"],[1,110,7,0],[1,114,9,32,"e"],[1,116,7,4,"_State"],[1,118,7,13,"require"],[1,120,7,20,"d"],[1,122,7,20],[1,126,8,4,"_GestureHandler"],[1,129,9,32,"e"],[1,131,8,45,"require"],[1,133,8,52,"d"],[1,135,8,52],[1,141,9,49,"e"],[1,143,9,51,"__esModule"],[1,154,9,64,"e"],[1,156,9,68],[1,157,9,70,"default"],[1,165,9,79,"e"],[1,168,13,0],[1,174,13,6,"LongPressGestureHandler"],[1,184,13,38,"_GestureHandler"],[1,186,13,54,"default"],[1,194,14,2,"minDurationMs"],[1,208,10,32],[1,212,15,2,"defaultMaxDistSq"],[1,229,15,18],[1,233,16,2,"maxDistSq"],[1,243,16,14,"this"],[1,248,16,19,"defaultMaxDistSq"],[1,265,17,2,"numberOfPointers"],[1,282,17,21],[1,284,18,2,"startX"],[1,291,18,11],[1,293,19,2,"startY"],[1,300,19,11],[1,302,20,2,"startTime"],[1,312,20,14],[1,314,21,2,"previousTime"],[1,327,21,17],[1,329,22,2,"init"],[1,334,22,7,"ref"],[1,336,22,12,"propsRef"],[1,344,23,42,"undefined"],[1,348,23,8,"this"],[1,353,23,13,"config"],[1,360,23,20,"enableContextMenu"],[1,380,24,6,"this"],[1,385,24,11,"config"],[1,392,24,18,"enableContextMenu"],[1,411,24,38],[1,414,26,4,"super"],[1,420,26,10,"init"],[1,425,26,15,"ref"],[1,427,26,20,"propsRef"],[1,429,27,2],[1,430,28,2,"transformNativeEvent"],[1,453,29,4],[1,459,29,11],[1,463,30,9,"super"],[1,469,30,15,"transformNativeEvent"],[1,492,31,6,"duration"],[1,501,31,16,"Date"],[1,506,31,21,"now"],[1,512,31,29,"this"],[1,517,31,34,"startTime"],[1,527,33,2],[1,528,34,2,"updateGestureConfig"],[1,549,34,22,"enabled"],[1,557,35,4,"enabled"],[1,560,35,14],[1,565,36,7,"props"],[1,569,38,4,"super"],[1,575,38,10,"updateGestureConfig"],[1,595,38,30],[1,596,39,6,"enabled"],[1,604,39,15,"enabled"],[1,609,40,9,"props"],[1,618,42,38,"undefined"],[1,622,42,8,"this"],[1,627,42,13,"config"],[1,634,42,20,"minDurationMs"],[1,650,43,6,"this"],[1,655,43,11,"minDurationMs"],[1,669,43,27,"this"],[1,674,43,32,"config"],[1,681,43,39,"minDurationMs"],[1,701,45,32,"undefined"],[1,705,45,8,"this"],[1,710,45,13,"config"],[1,717,45,20,"maxDist"],[1,727,46,6,"this"],[1,732,46,11,"maxDistSq"],[1,742,46,23,"this"],[1,747,46,28,"config"],[1,754,46,35,"maxDist"],[1,762,46,45,"this"],[1,767,46,50,"config"],[1,774,46,57,"maxDist"],[1,788,48,41,"undefined"],[1,792,48,8,"this"],[1,797,48,13,"config"],[1,804,48,20,"numberOfPointers"],[1,823,49,6,"this"],[1,828,49,11,"numberOfPointers"],[1,845,49,30,"this"],[1,850,49,35,"config"],[1,857,49,42,"numberOfPointers"],[1,874,51,2],[1,875,52,2,"resetConfig"],[1,889,53,4,"super"],[1,895,53,10,"resetConfig"],[1,909,54,4,"this"],[1,914,54,9,"minDurationMs"],[1,928,10,32],[1,932,55,4,"this"],[1,937,55,9,"maxDistSq"],[1,947,55,21,"this"],[1,952,55,26,"defaultMaxDistSq"],[1,968,56,2],[1,969,57,2,"onStateChange"],[1,983,57,16,"_newState"],[1,985,57,27,"_oldState"],[1,988,58,4,"clearTimeout"],[1,1001,58,17,"this"],[1,1006,58,22,"activationTimeout"],[1,1024,59,2],[1,1025,60,2,"onPointerDown"],[1,1039,60,16,"event"],[1,1042,61,9,"this"],[1,1047,61,14,"isButtonInConfig"],[1,1064,61,31,"event"],[1,1066,61,37,"button"],[1,1076,64,4,"this"],[1,1081,64,9,"tracker"],[1,1089,64,17,"addToTracker"],[1,1102,64,30,"event"],[1,1105,65,4,"super"],[1,1111,65,10,"onPointerDown"],[1,1125,65,24,"event"],[1,1128,66,4,"this"],[1,1133,66,9,"startX"],[1,1140,66,18,"event"],[1,1142,66,24,"x"],[1,1144,67,4,"this"],[1,1149,67,9,"startY"],[1,1156,67,18,"event"],[1,1158,67,24,"y"],[1,1160,68,4,"this"],[1,1165,68,9,"tryBegin"],[1,1176,69,4,"this"],[1,1181,69,9,"tryActivate"],[1,1195,70,4,"this"],[1,1200,70,9,"tryToSendTouchEvent"],[1,1220,70,29,"event"],[1,1223,71,2],[1,1224,72,2,"onPointerAdd"],[1,1237,72,15,"event"],[1,1240,75,4],[1,1243,73,4,"super"],[1,1249,73,10,"onPointerAdd"],[1,1262,73,23,"event"],[1,1265,74,4,"this"],[1,1270,74,9,"tracker"],[1,1278,74,17,"addToTracker"],[1,1291,74,30,"event"],[1,1294,75,8,"this"],[1,1299,75,13,"tracker"],[1,1307,75,21,"trackedPointersCount"],[1,1328,75,44,"this"],[1,1333,75,49,"numberOfPointers"],[1,1350,77,6],[1,1362,76,6,"this"],[1,1367,76,11,"fail"],[1,1374,79,4],[1,1380,79,10,"absoluteCoordsAverage"],[1,1382,79,34,"this"],[1,1387,79,39,"tracker"],[1,1395,79,47,"getAbsoluteCoordsAverage"],[1,1422,80,4,"this"],[1,1427,80,9,"startX"],[1,1434,80,18,"absoluteCoordsAverage"],[1,1436,80,40,"x"],[1,1438,81,4,"this"],[1,1443,81,9,"startY"],[1,1450,81,18,"absoluteCoordsAverage"],[1,1452,81,40,"y"],[1,1454,82,4,"this"],[1,1459,82,9,"tryActivate"],[1,1472,83,2],[1,1473,84,2,"onPointerMove"],[1,1487,84,16,"event"],[1,1490,85,4,"super"],[1,1496,85,10,"onPointerMove"],[1,1510,85,24,"event"],[1,1513,86,4,"this"],[1,1518,86,9,"tracker"],[1,1526,86,17,"track"],[1,1532,86,23,"event"],[1,1535,87,4,"this"],[1,1540,87,9,"checkDistanceFail"],[1,1559,88,2],[1,1560,89,2,"onPointerOutOfBounds"],[1,1581,89,23,"event"],[1,1584,90,4,"super"],[1,1590,90,10,"onPointerOutOfBounds"],[1,1611,90,31,"event"],[1,1614,91,4,"this"],[1,1619,91,9,"tracker"],[1,1627,91,17,"track"],[1,1633,91,23,"event"],[1,1636,92,4,"this"],[1,1641,92,9,"checkDistanceFail"],[1,1660,93,2],[1,1661,94,2,"onPointerUp"],[1,1673,94,14,"event"],[1,1676,95,4,"super"],[1,1682,95,10,"onPointerUp"],[1,1694,95,22,"event"],[1,1697,96,4,"this"],[1,1702,96,9,"tracker"],[1,1710,96,17,"removeFromTracker"],[1,1728,96,35,"event"],[1,1730,96,41,"pointerId"],[1,1741,97,8,"this"],[1,1746,97,13,"state"],[1,1754,97,23,"_State"],[1,1756,97,30,"State"],[1,1762,97,36,"ACTIVE"],[1,1769,98,6,"this"],[1,1774,98,11,"end"],[1,1780,100,6,"this"],[1,1785,100,11,"fail"],[1,1791,102,2],[1,1792,103,2,"onPointerRemove"],[1,1808,103,18,"event"],[1,1811,104,4,"super"],[1,1817,104,10,"onPointerRemove"],[1,1833,104,26,"event"],[1,1836,105,4,"this"],[1,1841,105,9,"tracker"],[1,1849,105,17,"removeFromTracker"],[1,1867,105,35,"event"],[1,1869,105,41,"pointerId"],[1,1880,106,8,"this"],[1,1885,106,13,"tracker"],[1,1893,106,21,"trackedPointersCount"],[1,1914,106,44,"this"],[1,1919,106,49,"numberOfPointers"],[1,1937,106,69,"this"],[1,1942,106,74,"state"],[1,1950,106,84,"_State"],[1,1952,106,91,"State"],[1,1958,106,97,"ACTIVE"],[1,1966,107,6,"this"],[1,1971,107,11,"fail"],[1,1977,109,2],[1,1978,110,2,"tryBegin"],[1,1989,111,8,"this"],[1,1994,111,13,"state"],[1,2002,111,23,"_State"],[1,2004,111,30,"State"],[1,2010,111,36,"UNDETERMINED"],[1,2025,114,4,"this"],[1,2030,114,9,"previousTime"],[1,2043,114,24,"Date"],[1,2048,114,29,"now"],[1,2054,115,4,"this"],[1,2059,115,9,"startTime"],[1,2069,115,21,"this"],[1,2074,115,26,"previousTime"],[1,2087,116,4,"this"],[1,2092,116,9,"begin"],[1,2100,117,2],[1,2101,118,2,"tryActivate"],[1,2115,119,8,"this"],[1,2120,119,13,"tracker"],[1,2128,119,21,"trackedPointersCount"],[1,2151,119,46,"this"],[1,2156,119,51,"numberOfPointers"],[1,2175,122,8,"this"],[1,2180,122,13,"minDurationMs"],[1,2194,122,29],[1,2196,123,6,"this"],[1,2201,123,11,"activationTimeout"],[1,2219,123,31,"setTimeout"],[1,2230,123,42],[1,2235,124,8,"this"],[1,2240,124,13,"activate"],[1,2252,125,9,"this"],[1,2257,125,14,"minDurationMs"],[1,2272,126,38],[1,2276,126,15,"this"],[1,2281,126,20,"minDurationMs"],[1,2296,127,6,"this"],[1,2301,127,11,"activate"],[1,2312,129,2],[1,2313,130,2,"checkDistanceFail"],[1,2333,131,4],[1,2339,131,10,"absoluteCoordsAverage"],[1,2341,131,34,"this"],[1,2346,131,39,"tracker"],[1,2354,131,47,"getAbsoluteCoordsAverage"],[1,2381,132,10,"dx"],[1,2383,132,15,"absoluteCoordsAverage"],[1,2385,132,37,"x"],[1,2387,132,41,"this"],[1,2392,132,46,"startX"],[1,2399,133,10,"dy"],[1,2401,133,15,"absoluteCoordsAverage"],[1,2403,133,37,"y"],[1,2405,133,41,"this"],[1,2410,133,46,"startY"],[1,2417,134,19,"dx"],[1,2419,134,24,"dx"],[1,2421,134,29,"dy"],[1,2423,134,34,"dy"],[1,2426,135,18,"this"],[1,2431,135,23,"maxDistSq"],[1,2443,138,8,"this"],[1,2448,138,13,"state"],[1,2456,138,23,"_State"],[1,2458,138,30,"State"],[1,2464,138,36,"ACTIVE"],[1,2471,139,6,"this"],[1,2476,139,11,"cancel"],[1,2485,141,6,"this"],[1,2490,141,11,"fail"],[1,2497,143,2],[1,2499,145,0,"exports"],[1,2502,145,8,"default"],[1,2510,145,18,"LongPressGestureHandler"],[1,2511,145,42],[1,2514]],"functionMap":{"names":["<global>","_interopRequireDefault","LongPressGestureHandler","init","transformNativeEvent","updateGestureConfig","resetConfig","onStateChange","onPointerDown","onPointerAdd","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","tryBegin","tryActivate","setTimeout$argument_0","checkDistanceFail"],"mappings":"AAA;ACQ,qFD;AEI;ECS;GDK;EEC;GFK;EGC;GHiB;EIC;GJI;EKC;GLE;EMC;GNW;EOC;GPW;EQC;GRI;ESC;GTI;EUC;GVQ;EWC;GXM;EYC;GZO;EaC;0CCK;ODE;GbI;EeC;Gfa;CFC"},"hasCjsExports":true},"type":"js/module"}]}