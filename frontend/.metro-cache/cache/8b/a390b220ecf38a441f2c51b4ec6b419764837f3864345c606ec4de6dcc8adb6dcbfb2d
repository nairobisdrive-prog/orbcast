{"dependencies":[{"name":"react-native-worklets","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":48,"index":63}}],"key":"upgdvla269Vpw38V/0PgHoMDZsA=","exportNames":["*"],"imports":1}},{"name":"./common","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":64},"end":{"line":4,"column":35,"index":99}}],"key":"T3X1rGrsueEhPeOGTLhHRm6Tz+4=","exportNames":["*"],"imports":1}},{"name":"./isSharedValue","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":100},"end":{"line":5,"column":48,"index":148}}],"key":"4GvsAaNC2OU71XMPPfpzkxeW9tk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,'__esModule',{value:!0}),e.startMapper=function(p,s=[],c=[]){const f=o+=1;return(0,t.runOnUI)((function({_worklet_6546531365916_init_data:t,createMapperRegistry:p,mapperID:s,worklet:n,inputs:o,outputs:u}){const c=function(){let t=g.__mapperRegistry;void 0===t&&(t=g.__mapperRegistry=p()),t.start(s,n,o,u)};return c.__closure={createMapperRegistry:p,mapperID:s,worklet:n,inputs:o,outputs:u},c.__workletHash=6546531365916,c.__initData=t,c})({_worklet_6546531365916_init_data:u,createMapperRegistry:n,mapperID:f,worklet:p,inputs:s,outputs:c}))(),f},e.stopMapper=function(p){(0,t.runOnUI)((function({_worklet_2151698497712_init_data:t,mapperID:p}){const s=function(){const t=g.__mapperRegistry;t?.stop(p)};return s.__closure={mapperID:p},s.__workletHash=2151698497712,s.__initData=t,s})({_worklet_2151698497712_init_data:c,mapperID:p}))()};var t=r(d[0]),p=r(d[1]),s=r(d[2]);const n=(function({_worklet_6649678464578_init_data:t,IS_JEST:p,isSharedValue:s}){const n=function(){const t=new Map;let n=[],o=!1,u=!1;function c(){const p=new Map;t.forEach(t=>{if(t.outputs)for(const s of t.outputs){const n=p.get(s);void 0===n?p.set(s,[t]):n.push(t)}});const s=new Set,o=[];function u(t){s.add(t);for(const n of t.inputs){const t=p.get(n);if(t)for(const p of t)s.has(p)||u(p)}o.push(t)}t.forEach(t=>{s.has(t)||u(t)}),n=o}function f(){if(o=!1,!u)try{u=!0,t.size!==n.length&&c();for(const t of n)t.dirty&&(t.dirty=!1,t.worklet())}finally{u=!1}}function l(){p?f():o||(u?requestAnimationFrame(f):queueMicrotask(f),o=!0)}function _(t,p){if(Array.isArray(t))for(const s of t)s&&_(s,p);else if(s(t))p.push(t);else if(Object.getPrototypeOf(t)===Object.prototype)for(const s of Object.values(t))s&&_(s,p);return p}return{start:(p,s,o,u)=>{const c={id:p,dirty:!0,worklet:s,inputs:_(o,[]),outputs:u};t.set(c.id,c),n=[];for(const t of c.inputs)t.addListener(c.id,()=>{c.dirty=!0,l()});l()},stop:p=>{const s=t.get(p);if(s){t.delete(s.id),n=[];for(const t of s.inputs)t.removeListener(s.id)}}}};return n.__closure={IS_JEST:p,isSharedValue:s},n.__workletHash=6649678464578,n.__initData=t,n})({_worklet_6649678464578_init_data:{code:\"function createMapperRegistry_reactNativeReanimated_mappersJs1(){const{IS_JEST,isSharedValue}=this.__closure;const mappers=new Map();let sortedMappers=[];let runRequested=false;let processingMappers=false;function updateMappersOrder(){const pre=new Map();mappers.forEach(function(mapper){if(mapper.outputs){for(const output of mapper.outputs){const preMappers=pre.get(output);if(preMappers===undefined){pre.set(output,[mapper]);}else{preMappers.push(mapper);}}}});const visited=new Set();const newOrder=[];function dfs(mapper){visited.add(mapper);for(const input of mapper.inputs){const preMappers=pre.get(input);if(preMappers){for(const preMapper of preMappers){if(!visited.has(preMapper)){dfs(preMapper);}}}}newOrder.push(mapper);}mappers.forEach(function(mapper){if(!visited.has(mapper)){dfs(mapper);}});sortedMappers=newOrder;}function mapperRun(){runRequested=false;if(processingMappers){return;}try{processingMappers=true;if(mappers.size!==sortedMappers.length){updateMappersOrder();}for(const mapper of sortedMappers){if(mapper.dirty){mapper.dirty=false;mapper.worklet();}}}finally{processingMappers=false;}}function maybeRequestUpdates(){if(IS_JEST){mapperRun();}else if(!runRequested){if(processingMappers){requestAnimationFrame(mapperRun);}else{queueMicrotask(mapperRun);}runRequested=true;}}function extractInputs(inputs,resultArray){if(Array.isArray(inputs)){for(const input of inputs){if(input){extractInputs(input,resultArray);}}}else if(isSharedValue(inputs)){resultArray.push(inputs);}else if(Object.getPrototypeOf(inputs)===Object.prototype){for(const element of Object.values(inputs)){if(element){extractInputs(element,resultArray);}}}return resultArray;}return{start:function(mapperID,worklet,inputs,outputs){const mapper={id:mapperID,dirty:true,worklet:worklet,inputs:extractInputs(inputs,[]),outputs:outputs};mappers.set(mapper.id,mapper);sortedMappers=[];for(const sv of mapper.inputs){sv.addListener(mapper.id,function(){mapper.dirty=true;maybeRequestUpdates();});}maybeRequestUpdates();},stop:function(mapperID){const mapper=mappers.get(mapperID);if(mapper){mappers.delete(mapper.id);sortedMappers=[];for(const sv of mapper.inputs){sv.removeListener(mapper.id);}}}};}\"},IS_JEST:p.IS_JEST,isSharedValue:s.isSharedValue});let o=9999;const u={code:\"function reactNativeReanimated_mappersJs2(){const{createMapperRegistry,mapperID,worklet,inputs,outputs}=this.__closure;let mapperRegistry=global.__mapperRegistry;if(mapperRegistry===undefined){mapperRegistry=global.__mapperRegistry=createMapperRegistry();}mapperRegistry.start(mapperID,worklet,inputs,outputs);}\"};const c={code:\"function reactNativeReanimated_mappersJs3(){const{mapperID}=this.__closure;const mapperRegistry=global.__mapperRegistry;mapperRegistry===null||mapperRegistry===void 0||mapperRegistry.stop(mapperID);}\"}});","lineCount":1,"map":[[1,28,1,0],[1,41,1,13,"Object"],[1,48,1,13,"defineProperty"],[1,63,1,13,"e"],[1,65,1,13],[1,79,1,13,"value"],[1,86,1,13],[1,90,172,0,"e"],[1,92,172,0,"startMapper"],[1,104,172,7],[1,113,172,28,"worklet"],[1,115,172,37,"inputs"],[1,117,172,46],[1,120,172,50,"outputs"],[1,122,172,60],[1,126,173,2],[1,132,173,8,"mapperID"],[1,134,173,19,"MAPPER_ID"],[1,137,173,32],[1,139,181,2],[1,146,174,2],[1,148,174,2,"runOnUI"],[1,150,174,9,"runOnUI"],[1,160,174,10],[1,170,174,10,"_worklet_6546531365916_init_data"],[1,205,174,10,"createMapperRegistry"],[1,226,177,49,"createMapperRegistry"],[1,228,177,69,"mapperID"],[1,237,179,25,"mapperID"],[1,239,179,33,"worklet"],[1,247,179,35,"worklet"],[1,249,179,42,"inputs"],[1,256,179,44,"inputs"],[1,258,179,50,"outputs"],[1,266,179,52,"outputs"],[1,270,179,59],[1,276,179,59,"reactNativeReanimated_mappersJs2"],[1,278,179,59],[1,289,175,4],[1,293,175,8,"mapperRegistry"],[1,295,175,25,"global"],[1,297,175,32,"__mapperRegistry"],[1,319,176,27,"undefined"],[1,323,176,8,"mapperRegistry"],[1,327,177,6,"mapperRegistry"],[1,329,177,23,"global"],[1,331,177,30,"__mapperRegistry"],[1,348,177,49,"createMapperRegistry"],[1,353,179,4,"mapperRegistry"],[1,355,179,19,"start"],[1,361,179,25,"mapperID"],[1,363,179,35,"worklet"],[1,365,179,44,"inputs"],[1,367,179,52,"outputs"],[1,369,180,2],[1,371,179,59],[1,378,180,3,"reactNativeReanimated_mappersJs2"],[1,380,180,3,"__closure"],[1,390,180,3],[1,391,177,49,"createMapperRegistry"],[1,414,179,25,"mapperID"],[1,425,179,35,"worklet"],[1,435,179,44,"inputs"],[1,444,179,52,"outputs"],[1,455,179,59,"reactNativeReanimated_mappersJs2"],[1,457,179,59,"__workletHash"],[1,471,179,59],[1,485,179,59,"reactNativeReanimated_mappersJs2"],[1,487,179,59,"__initData"],[1,498,179,59,"_worklet_6546531365916_init_data"],[1,500,179,59,"reactNativeReanimated_mappersJs2"],[1,501,179,59],[1,503,174,10],[1,505,174,10,"_worklet_6546531365916_init_data"],[1,540,177,49,"createMapperRegistry"],[1,563,179,25,"mapperID"],[1,574,179,35,"worklet"],[1,584,179,44,"inputs"],[1,593,179,52,"outputs"],[1,605,174,2],[1,608,181,9,"mapperID"],[1,609,182,0],[1,611,183,0,"e"],[1,613,183,0,"stopMapper"],[1,624,183,7],[1,633,183,27,"mapperID"],[1,637,184,2],[1,639,184,2,"runOnUI"],[1,641,184,9,"runOnUI"],[1,651,184,10],[1,661,184,10,"_worklet_2151698497712_init_data"],[1,696,184,10,"mapperID"],[1,705,186,25,"mapperID"],[1,709,186,33],[1,715,186,33,"reactNativeReanimated_mappersJs3"],[1,717,186,33],[1,728,185,4],[1,734,185,10,"mapperRegistry"],[1,736,185,27,"global"],[1,738,185,34,"__mapperRegistry"],[1,755,186,4,"mapperRegistry"],[1,758,186,20,"stop"],[1,763,186,25,"mapperID"],[1,765,187,2],[1,767,186,33],[1,774,187,3,"reactNativeReanimated_mappersJs3"],[1,776,187,3,"__closure"],[1,786,187,3],[1,787,186,25,"mapperID"],[1,799,186,33,"reactNativeReanimated_mappersJs3"],[1,801,186,33,"__workletHash"],[1,815,186,33],[1,829,186,33,"reactNativeReanimated_mappersJs3"],[1,831,186,33,"__initData"],[1,842,186,33,"_worklet_2151698497712_init_data"],[1,844,186,33,"reactNativeReanimated_mappersJs3"],[1,845,186,33],[1,847,184,10],[1,849,184,10,"_worklet_2151698497712_init_data"],[1,884,186,25,"mapperID"],[1,897,184,2],[1,899,188,0],[1,901,3,0],[1,905,3,0,"_reactNativeWorklets"],[1,907,3,0,"r"],[1,909,3,0,"d"],[1,911,3,0],[1,915,4,0,"_common"],[1,917,4,0,"r"],[1,919,4,0,"d"],[1,921,4,0],[1,925,5,0,"_isSharedValue"],[1,927,5,0,"r"],[1,929,5,0,"d"],[1,931,5,0],[1,935,5,48],[1,941,5,48,"createMapperRegistry"],[1,944,6,0],[1,954,6,0,"_worklet_6649678464578_init_data"],[1,989,6,0,"IS_JEST"],[1,997,91,8,"IS_JEST"],[1,999,91,15,"isSharedValue"],[1,1013,126,15,"isSharedValue"],[1,1017,126,28],[1,1023,126,28,"createMapperRegistry"],[1,1025,126,28],[1,1036,9,2],[1,1042,9,8,"mappers"],[1,1044,9,18],[1,1048,9,22,"Map"],[1,1052,10,2],[1,1056,10,6,"sortedMappers"],[1,1058,10,22],[1,1061,11,6,"runRequested"],[1,1064,11,21],[1,1066,12,6,"processingMappers"],[1,1069,12,26],[1,1071,13,2],[1,1080,13,11,"updateMappersOrder"],[1,1084,34,4],[1,1090,34,10,"pre"],[1,1092,34,16],[1,1096,34,20,"Map"],[1,1100,35,4,"mappers"],[1,1102,35,12,"forEach"],[1,1110,35,20,"mapper"],[1,1114,36,6],[1,1117,36,10,"mapper"],[1,1119,36,17,"outputs"],[1,1127,37,8],[1,1131,37,13],[1,1137,37,19,"output"],[1,1142,37,29,"mapper"],[1,1144,37,36,"outputs"],[1,1152,37,45],[1,1153,38,10],[1,1159,38,16,"preMappers"],[1,1161,38,29,"pre"],[1,1163,38,33,"get"],[1,1167,38,37,"output"],[1,1175,39,29,"undefined"],[1,1179,39,14,"preMappers"],[1,1181,40,12,"pre"],[1,1183,40,16,"set"],[1,1187,40,20,"output"],[1,1189,40,28],[1,1190,40,29,"mapper"],[1,1194,42,12,"preMappers"],[1,1196,42,23,"push"],[1,1201,42,28,"mapper"],[1,1203,44,8],[1,1207,47,4],[1,1213,47,10,"visited"],[1,1215,47,20],[1,1219,47,24,"Set"],[1,1223,48,10,"newOrder"],[1,1225,48,21],[1,1228,49,4],[1,1237,49,13,"dfs"],[1,1239,49,17,"mapper"],[1,1242,50,6,"visited"],[1,1244,50,14,"add"],[1,1248,50,18,"mapper"],[1,1251,51,6],[1,1255,51,11],[1,1261,51,17,"input"],[1,1266,51,26,"mapper"],[1,1268,51,33,"inputs"],[1,1275,51,41],[1,1276,52,8],[1,1282,52,14,"preMappers"],[1,1284,52,27,"pre"],[1,1286,52,31,"get"],[1,1290,52,35,"input"],[1,1293,53,8],[1,1296,53,12,"preMappers"],[1,1298,54,10],[1,1302,54,15],[1,1308,54,21,"preMapper"],[1,1313,54,34,"preMappers"],[1,1315,55,17,"visited"],[1,1317,55,25,"has"],[1,1321,55,29,"preMapper"],[1,1325,56,14,"dfs"],[1,1327,56,18,"preMapper"],[1,1329,60,6],[1,1330,61,6,"newOrder"],[1,1332,61,15,"push"],[1,1337,61,20,"mapper"],[1,1339,62,4],[1,1340,63,4,"mappers"],[1,1342,63,12,"forEach"],[1,1350,63,20,"mapper"],[1,1354,64,11,"visited"],[1,1356,64,19,"has"],[1,1360,64,23,"mapper"],[1,1364,65,8,"dfs"],[1,1366,65,12,"mapper"],[1,1371,68,4,"sortedMappers"],[1,1373,68,20,"newOrder"],[1,1374,69,2],[1,1375,70,2],[1,1384,70,11,"mapperRun"],[1,1388,72,4],[1,1391,71,4,"runRequested"],[1,1394,71,19],[1,1397,72,8,"processingMappers"],[1,1399,75,4],[1,1403,76,6,"processingMappers"],[1,1406,76,26],[1,1408,77,10,"mappers"],[1,1410,77,18,"size"],[1,1417,77,27,"sortedMappers"],[1,1419,77,41,"length"],[1,1427,78,8,"updateMappersOrder"],[1,1431,80,6],[1,1435,80,11],[1,1441,80,17,"mapper"],[1,1446,80,27,"sortedMappers"],[1,1448,81,12,"mapper"],[1,1450,81,19,"dirty"],[1,1458,82,10,"mapper"],[1,1460,82,17,"dirty"],[1,1467,82,25],[1,1469,83,10,"mapper"],[1,1471,83,17,"worklet"],[1,1481,86,4],[1,1482,86,5],[1,1490,87,6,"processingMappers"],[1,1493,87,26],[1,1494,88,4],[1,1495,89,2],[1,1496,90,2],[1,1505,90,11,"maybeRequestUpdates"],[1,1509,91,8,"IS_JEST"],[1,1511,98,6,"mapperRun"],[1,1515,99,16,"runRequested"],[1,1519,100,10,"processingMappers"],[1,1521,112,8,"requestAnimationFrame"],[1,1543,112,30,"mapperRun"],[1,1546,114,8,"queueMicrotask"],[1,1561,114,23,"mapperRun"],[1,1564,116,6,"runRequested"],[1,1567,116,21],[1,1569,118,2],[1,1570,119,2],[1,1579,119,11,"extractInputs"],[1,1581,119,25,"inputs"],[1,1583,119,33,"resultArray"],[1,1586,120,4],[1,1589,120,8,"Array"],[1,1595,120,14,"isArray"],[1,1603,120,22,"inputs"],[1,1606,121,6],[1,1610,121,11],[1,1616,121,17,"input"],[1,1621,121,26,"inputs"],[1,1623,122,12,"input"],[1,1626,123,10,"extractInputs"],[1,1628,123,24,"input"],[1,1630,123,31,"resultArray"],[1,1638,126,11],[1,1641,126,15,"isSharedValue"],[1,1643,126,29,"inputs"],[1,1646,127,6,"resultArray"],[1,1648,127,18,"push"],[1,1653,127,23,"inputs"],[1,1661,128,11],[1,1664,128,15,"Object"],[1,1671,128,22,"getPrototypeOf"],[1,1686,128,37,"inputs"],[1,1691,128,49,"Object"],[1,1698,128,56,"prototype"],[1,1708,132,6],[1,1712,132,11],[1,1718,132,17,"element"],[1,1723,132,28,"Object"],[1,1730,132,35,"values"],[1,1737,132,42,"inputs"],[1,1740,133,12,"element"],[1,1743,134,10,"extractInputs"],[1,1745,134,24,"element"],[1,1747,134,33,"resultArray"],[1,1750,138,4],[1,1757,138,11,"resultArray"],[1,1758,139,2],[1,1759,140,2],[1,1765,140,9],[1,1766,141,4,"start"],[1,1772,141,11,"start"],[1,1773,141,12,"mapperID"],[1,1775,141,22,"worklet"],[1,1777,141,31,"inputs"],[1,1779,141,39,"outputs"],[1,1784,142,6],[1,1790,142,12,"mapper"],[1,1792,142,21],[1,1793,143,8,"id"],[1,1796,143,12,"mapperID"],[1,1798,144,8,"dirty"],[1,1805,144,15],[1,1807,145,8,"worklet"],[1,1817,146,8,"inputs"],[1,1824,146,16,"extractInputs"],[1,1826,146,30,"inputs"],[1,1828,146,38],[1,1832,147,8,"outputs"],[1,1843,149,6,"mappers"],[1,1845,149,14,"set"],[1,1849,149,18,"mapper"],[1,1851,149,25,"id"],[1,1854,149,29,"mapper"],[1,1857,150,6,"sortedMappers"],[1,1859,150,22],[1,1862,151,6],[1,1866,151,11],[1,1872,151,17,"sv"],[1,1877,151,23,"mapper"],[1,1879,151,30,"inputs"],[1,1886,152,8,"sv"],[1,1888,152,11,"addListener"],[1,1900,152,23,"mapper"],[1,1902,152,30,"id"],[1,1905,152,34],[1,1910,153,10,"mapper"],[1,1912,153,17,"dirty"],[1,1919,153,25],[1,1921,154,10,"maybeRequestUpdates"],[1,1927,157,6,"maybeRequestUpdates"],[1,1932,159,4,"stop"],[1,1937,159,10,"mapperID"],[1,1941,160,6],[1,1947,160,12,"mapper"],[1,1949,160,21,"mappers"],[1,1951,160,29,"get"],[1,1955,160,33,"mapperID"],[1,1958,161,6],[1,1961,161,10,"mapper"],[1,1963,161,18],[1,1964,162,8,"mappers"],[1,1966,162,16,"delete"],[1,1973,162,23,"mapper"],[1,1975,162,30,"id"],[1,1979,163,8,"sortedMappers"],[1,1981,163,24],[1,1984,164,8],[1,1988,164,13],[1,1994,164,19,"sv"],[1,1999,164,25,"mapper"],[1,2001,164,32,"inputs"],[1,2008,165,10,"sv"],[1,2010,165,13,"removeListener"],[1,2025,165,28,"mapper"],[1,2027,165,35,"id"],[1,2030,167,6],[1,2033,170,0],[1,2035,126,28],[1,2042,170,1,"createMapperRegistry"],[1,2044,170,1,"__closure"],[1,2054,170,1],[1,2055,91,8,"IS_JEST"],[1,2065,126,15,"isSharedValue"],[1,2082,126,28,"createMapperRegistry"],[1,2084,126,28,"__workletHash"],[1,2098,126,28],[1,2112,126,28,"createMapperRegistry"],[1,2114,126,28,"__initData"],[1,2125,126,28,"_worklet_6649678464578_init_data"],[1,2127,126,28,"createMapperRegistry"],[1,2128,126,28],[1,2130,6,0],[1,2132,6,0,"_worklet_6649678464578_init_data"],[1,2165,5,48],[1,2166,5,48,"code"],[1,2171,5,48],[1,4366,91,8,"IS_JEST"],[1,4376,91,15,"IS_JEST"],[1,4384,126,15,"isSharedValue"],[1,4400,126,28,"isSharedValue"],[1,4416,171,0],[1,4420,171,4,"MAPPER_ID"],[1,4422,171,16],[1,4427,171,21],[1,4433,171,21,"_worklet_6546531365916_init_data"],[1,4435,171,21],[1,4436,171,21,"code"],[1,4441,171,21],[1,4756,182,1],[1,4762,182,1,"_worklet_2151698497712_init_data"],[1,4764,182,1],[1,4765,182,1,"code"],[1,4770,182,1],[1,4972,188,1],[1,4975]],"functionMap":{"names":["<global>","createMapperRegistry","updateMappersOrder","forEach$argument_0","dfs","mapperRun","maybeRequestUpdates","extractInputs","start","sv.addListener$argument_1","stop","startMapper","runOnUI$argument_0","stopMapper"],"mappings":"AAA;ACK;ECO;oBCsB;KDW;IEG;KFa;oBCC;KDI;GDE;EIC;GJmB;EKC;GL4B;EMC;GNoB;WOE;kCCW;SDG;KPG;USC;KTS;CDE;OWE;UCE;GDM;CXE;OaC;UDC;GCG;CbC"},"hasCjsExports":false},"type":"js/module"}]}