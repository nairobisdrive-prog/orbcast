{"dependencies":[{"name":"./CircularBuffer","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":45,"index":151},"end":{"line":7,"column":72,"index":178}}],"key":"kLmCiPfKlVuhgpSUa2CQDmaipq8=","exportNames":["*"],"imports":1}},{"name":"./LeastSquareSolver","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":48,"index":229},"end":{"line":8,"column":78,"index":259}}],"key":"/RKGCJZSWujAKDAHNEtloslp9BQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.default=void 0;var e=t(r(d[0])),s=t(r(d[1]));function t(e){return e&&e.__esModule?e:{default:e}}_e.default=class{assumePointerMoveStoppedMilliseconds=40;historySize=20;horizonMilliseconds=300;minSampleSize=3;constructor(){this.samples=new e.default(this.historySize)}add(e){this.samples.push(e)}getVelocityEstimate(){const e=[],t=[],l=[],o=[];let n=0,u=this.samples.size-1;const c=this.samples.get(u);if(!c)return null;let h=c;for(;n<this.samples.size;){const s=this.samples.get(u),f=c.time-s.time,p=Math.abs(s.time-h.time);if(h=s,f>this.horizonMilliseconds||p>this.assumePointerMoveStoppedMilliseconds)break;e.push(s.x),t.push(s.y),l.push(1),o.push(-f),n++,u--}if(n>=this.minSampleSize){const n=new s.default(o,e,l).solve(2);if(null!==n){const e=new s.default(o,t,l).solve(2);if(null!==e){return[1e3*n.coefficients[1],1e3*e.coefficients[1]]}}}return null}get velocity(){const e=this.getVelocityEstimate();return null!==e?e:[0,0]}reset(){this.samples.clear()}}});","lineCount":1,"map":[[1,29,1,0],[1,42,3,0,"Object"],[1,49,3,7,"defineProperty"],[1,64,3,22,"exports"],[1,67,3,31],[1,80,3,45],[1,81,4,2,"value"],[1,88,4,9],[1,92,6,0,"exports"],[1,95,6,8,"default"],[1,108,6,15,"undefined"],[1,110,7,0],[1,114,7,4,"_CircularBuffer"],[1,116,7,22,"_interopRequireDefault"],[1,118,7,45,"require"],[1,120,7,52,"d"],[1,122,7,52],[1,127,8,4,"_LeastSquareSolver"],[1,129,8,25,"_interopRequireDefault"],[1,131,8,48,"require"],[1,133,8,55,"d"],[1,135,8,55],[1,140,9,0],[1,149,9,9,"_interopRequireDefault"],[1,151,9,32,"e"],[1,154,9,37],[1,161,9,44,"e"],[1,164,9,49,"e"],[1,166,9,51,"__esModule"],[1,177,9,64,"e"],[1,179,9,68],[1,180,9,70,"default"],[1,188,9,79,"e"],[1,190,9,84],[1,191,84,0,"exports"],[1,194,84,8,"default"],[1,202,10,0],[1,208,11,2,"assumePointerMoveStoppedMilliseconds"],[1,245,11,41],[1,248,12,2,"historySize"],[1,260,12,16],[1,263,13,2,"horizonMilliseconds"],[1,283,13,24],[1,287,14,2,"minSampleSize"],[1,301,14,18],[1,303,15,2,"constructor"],[1,317,16,4,"this"],[1,322,16,9,"samples"],[1,330,16,19],[1,334,16,23,"_CircularBuffer"],[1,336,16,39,"default"],[1,344,16,47,"this"],[1,349,16,52,"historySize"],[1,361,17,2],[1,362,18,2,"add"],[1,366,18,6,"event"],[1,369,19,4,"this"],[1,374,19,9,"samples"],[1,382,19,17,"push"],[1,387,19,22,"event"],[1,389,20,2],[1,390,28,2,"getVelocityEstimate"],[1,412,29,4],[1,418,29,10,"x"],[1,420,29,14],[1,423,30,10,"y"],[1,425,30,14],[1,428,31,10,"w"],[1,430,31,14],[1,433,32,10,"time"],[1,435,32,17],[1,438,33,4],[1,442,33,8,"sampleCount"],[1,444,33,22],[1,446,34,8,"index"],[1,448,34,16,"this"],[1,453,34,21,"samples"],[1,461,34,29,"size"],[1,466,34,36],[1,468,35,4],[1,474,35,10,"newestSample"],[1,476,35,25,"this"],[1,481,35,30,"samples"],[1,489,35,38,"get"],[1,493,35,42,"index"],[1,496,36,4],[1,500,36,9,"newestSample"],[1,502,37,6],[1,509,37,13],[1,514,39,4],[1,518,39,8,"previousSample"],[1,520,39,25,"newestSample"],[1,522,43,4],[1,527,43,11,"sampleCount"],[1,529,43,25,"this"],[1,534,43,30,"samples"],[1,542,43,38,"size"],[1,548,43,44],[1,549,44,6],[1,555,44,12,"sample"],[1,557,44,21,"this"],[1,562,44,26,"samples"],[1,570,44,34,"get"],[1,574,44,38,"index"],[1,577,45,12,"age"],[1,579,45,18,"newestSample"],[1,581,45,31,"time"],[1,586,45,38,"sample"],[1,588,45,45,"time"],[1,593,46,12,"delta"],[1,595,46,20,"Math"],[1,600,46,25,"abs"],[1,604,46,29,"sample"],[1,606,46,36,"time"],[1,611,46,43,"previousSample"],[1,613,46,58,"time"],[1,619,48,6],[1,622,47,6,"previousSample"],[1,624,47,23,"sample"],[1,626,48,10,"age"],[1,628,48,16,"this"],[1,633,48,21,"horizonMilliseconds"],[1,654,48,44,"delta"],[1,656,48,52,"this"],[1,661,48,57,"assumePointerMoveStoppedMilliseconds"],[1,698,49,8],[1,704,51,6,"x"],[1,706,51,8,"push"],[1,711,51,13,"sample"],[1,713,51,20,"x"],[1,716,52,6,"y"],[1,718,52,8,"push"],[1,723,52,13,"sample"],[1,725,52,20,"y"],[1,728,53,6,"w"],[1,730,53,8,"push"],[1,735,53,13],[1,738,54,6,"time"],[1,740,54,11,"push"],[1,746,54,17,"age"],[1,749,55,6,"sampleCount"],[1,753,56,6,"index"],[1,756,57,4],[1,757,58,4],[1,760,58,8,"sampleCount"],[1,763,58,23,"this"],[1,768,58,28,"minSampleSize"],[1,782,58,43],[1,783,59,6],[1,789,60,12,"xFit"],[1,791,59,22],[1,795,59,26,"_LeastSquareSolver"],[1,797,59,45,"default"],[1,805,59,53,"time"],[1,807,59,59,"x"],[1,809,59,62,"w"],[1,812,60,27,"solve"],[1,818,60,33],[1,821,61,6],[1,824,61,19],[1,831,61,10,"xFit"],[1,833,61,25],[1,834,62,8],[1,840,63,14,"yFit"],[1,842,62,24],[1,846,62,28,"_LeastSquareSolver"],[1,848,62,47,"default"],[1,856,62,55,"time"],[1,858,62,61,"y"],[1,860,62,64,"w"],[1,863,63,29,"solve"],[1,869,63,35],[1,872,64,8],[1,875,64,21],[1,882,64,12,"yFit"],[1,884,64,27],[1,885,67,10],[1,891,67,17],[1,892,65,51],[1,896,65,28,"xFit"],[1,898,65,33,"coefficients"],[1,911,65,46],[1,914,66,51],[1,918,66,28,"yFit"],[1,920,66,33,"coefficients"],[1,933,66,46],[1,936,68,8],[1,937,69,6],[1,938,70,4],[1,939,71,4],[1,946,71,11],[1,950,72,2],[1,951,73,2],[1,963,73,6,"velocity"],[1,966,74,4],[1,972,74,10,"estimate"],[1,974,74,21,"this"],[1,979,74,26,"getVelocityEstimate"],[1,1001,75,4],[1,1008,75,21],[1,1015,75,8,"estimate"],[1,1017,76,13,"estimate"],[1,1019,78,11],[1,1020,78,12],[1,1022,78,15],[1,1024,79,2],[1,1025,80,2,"reset"],[1,1033,81,4,"this"],[1,1038,81,9,"samples"],[1,1046,81,17,"clear"],[1,1053,82,2],[1,1055,84,34],[1,1058]],"functionMap":{"names":["<global>","_interopRequireDefault","VelocityTracker","constructor","add","getVelocityEstimate","get__velocity","reset"],"mappings":"AAA;ACQ,qFD;AEC;ECK;GDE;EEC;GFE;EGQ;GH4C;EIC;GJM;EKC;GLE;CFC"},"hasCjsExports":true},"type":"js/module"}]}