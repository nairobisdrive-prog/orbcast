{"dependencies":[{"name":"../interfaces","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":18,"index":124},"end":{"line":7,"column":42,"index":148}}],"key":"596k1m46J08d+Af0Max0usWU1VI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=void 0;var t=r(d[0]);e.default=class{currentTime=0;previousTime=0;previousAngle=0;_rotation=0;_anchorX=0;_anchorY=0;isInProgress=!1;keyPointers=[NaN,NaN];constructor(t){this.onRotationBegin=t.onRotationBegin,this.onRotation=t.onRotation,this.onRotationEnd=t.onRotationEnd}updateCurrent(t,s){this.previousTime=this.currentTime,this.currentTime=t.time;const[n,o]=this.keyPointers,h=s.getLastAbsoluteCoords(n),u=s.getLastAbsoluteCoords(o);if(!h||!u)return;const P=u.x-h.x,c=u.y-h.y;this._anchorX=(h.x+u.x)/2,this._anchorY=(h.y+u.y)/2;const I=-Math.atan2(c,P);this._rotation=Number.isNaN(this.previousAngle)?0:this.previousAngle-I,this.previousAngle=I,this.rotation>Math.PI?this._rotation-=Math.PI:this.rotation<-Math.PI&&(this._rotation+=Math.PI),this.rotation>Math.PI/2?this._rotation-=Math.PI:this.rotation<-Math.PI/2&&(this._rotation+=Math.PI)}finish(){this.isInProgress&&(this.isInProgress=!1,this.keyPointers=[NaN,NaN],this.onRotationEnd(this))}setKeyPointers(t){if(this.keyPointers[0]&&this.keyPointers[1])return;const s=t.trackedPointers.keys();this.keyPointers[0]=s.next().value,this.keyPointers[1]=s.next().value}onTouchEvent(s,n){switch(s.eventType){case t.EventTypes.DOWN:this.isInProgress=!1;break;case t.EventTypes.ADDITIONAL_POINTER_DOWN:if(this.isInProgress)break;this.isInProgress=!0,this.previousTime=s.time,this.previousAngle=NaN,this.setKeyPointers(n),this.updateCurrent(s,n),this.onRotationBegin(this);break;case t.EventTypes.MOVE:if(!this.isInProgress)break;this.updateCurrent(s,n),this.onRotation(this);break;case t.EventTypes.ADDITIONAL_POINTER_UP:if(!this.isInProgress)break;this.keyPointers.indexOf(s.pointerId)>=0&&this.finish();break;case t.EventTypes.UP:this.isInProgress&&this.finish()}return!0}reset(){this.keyPointers=[NaN,NaN],this.isInProgress=!1}get anchorX(){return this._anchorX}get anchorY(){return this._anchorY}get rotation(){return this._rotation}get timeDelta(){return this.currentTime+this.previousTime}}});","lineCount":1,"map":[[1,28,1,0],[1,41,3,0,"Object"],[1,48,3,7,"defineProperty"],[1,63,3,22,"exports"],[1,65,3,31],[1,78,3,45],[1,79,4,2,"value"],[1,86,4,9],[1,90,6,0,"exports"],[1,92,6,8,"default"],[1,105,6,15,"undefined"],[1,107,7,0],[1,111,7,4,"_interfaces"],[1,113,7,18,"require"],[1,115,7,25,"d"],[1,117,7,25],[1,121,123,0,"exports"],[1,123,123,8,"default"],[1,131,8,0],[1,137,9,2,"currentTime"],[1,149,9,16],[1,151,10,2,"previousTime"],[1,164,10,17],[1,166,11,2,"previousAngle"],[1,180,11,18],[1,182,12,2,"_rotation"],[1,192,12,14],[1,194,13,2,"_anchorX"],[1,203,13,13],[1,205,14,2,"_anchorY"],[1,214,14,13],[1,216,15,2,"isInProgress"],[1,230,15,17],[1,232,16,2,"keyPointers"],[1,244,16,16],[1,245,16,17,"NaN"],[1,249,16,22,"NaN"],[1,254,17,2,"constructor"],[1,266,17,14,"callbacks"],[1,269,18,4,"this"],[1,274,18,9,"onRotationBegin"],[1,290,18,27,"callbacks"],[1,292,18,37,"onRotationBegin"],[1,308,19,4,"this"],[1,313,19,9,"onRotation"],[1,324,19,22,"callbacks"],[1,326,19,32,"onRotation"],[1,337,20,4,"this"],[1,342,20,9,"onRotationEnd"],[1,356,20,25,"callbacks"],[1,358,20,35,"onRotationEnd"],[1,371,21,2],[1,372,22,2,"updateCurrent"],[1,386,22,16,"event"],[1,388,22,23,"tracker"],[1,391,23,4,"this"],[1,396,23,9,"previousTime"],[1,409,23,24,"this"],[1,414,23,29,"currentTime"],[1,426,24,4,"this"],[1,431,24,9,"currentTime"],[1,443,24,23,"event"],[1,445,24,29,"time"],[1,450,25,4],[1,456,25,11,"firstPointerID"],[1,458,25,27,"secondPointerID"],[1,461,25,46,"this"],[1,466,25,51,"keyPointers"],[1,478,26,10,"firstPointerCoords"],[1,480,26,31,"tracker"],[1,482,26,39,"getLastAbsoluteCoords"],[1,504,26,61,"firstPointerID"],[1,507,27,10,"secondPointerCoords"],[1,509,27,32,"tracker"],[1,511,27,40,"getLastAbsoluteCoords"],[1,533,27,62,"secondPointerID"],[1,536,28,4],[1,540,28,9,"firstPointerCoords"],[1,544,28,32,"secondPointerCoords"],[1,546,29,6],[1,553,31,4],[1,559,31,10,"vectorX"],[1,561,31,20,"secondPointerCoords"],[1,563,31,40,"x"],[1,565,31,44,"firstPointerCoords"],[1,567,31,63,"x"],[1,569,32,10,"vectorY"],[1,571,32,20,"secondPointerCoords"],[1,573,32,40,"y"],[1,575,32,44,"firstPointerCoords"],[1,577,32,63,"y"],[1,579,33,4,"this"],[1,584,33,9,"_anchorX"],[1,594,33,21,"firstPointerCoords"],[1,596,33,40,"x"],[1,598,33,44,"secondPointerCoords"],[1,600,33,64,"x"],[1,603,33,69],[1,605,34,4,"this"],[1,610,34,9,"_anchorY"],[1,620,34,21,"firstPointerCoords"],[1,622,34,40,"y"],[1,624,34,44,"secondPointerCoords"],[1,626,34,64,"y"],[1,629,34,69],[1,631,37,4],[1,637,37,10,"angle"],[1,640,37,19,"Math"],[1,645,37,24,"atan2"],[1,651,37,30,"vectorY"],[1,653,37,39,"vectorX"],[1,656,38,4,"this"],[1,661,38,9,"_rotation"],[1,671,38,21,"Number"],[1,678,38,28,"isNaN"],[1,684,38,34,"this"],[1,689,38,39,"previousAngle"],[1,704,38,56],[1,706,38,60,"this"],[1,711,38,65,"previousAngle"],[1,725,38,81,"angle"],[1,727,39,4,"this"],[1,732,39,9,"previousAngle"],[1,746,39,25,"angle"],[1,748,40,8,"this"],[1,753,40,13,"rotation"],[1,762,40,24,"Math"],[1,767,40,29,"PI"],[1,770,41,6,"this"],[1,775,41,11,"_rotation"],[1,786,41,24,"Math"],[1,791,41,29,"PI"],[1,794,42,15,"this"],[1,799,42,20,"rotation"],[1,809,42,32,"Math"],[1,814,42,37,"PI"],[1,819,43,6,"this"],[1,824,43,11,"_rotation"],[1,835,43,24,"Math"],[1,840,43,29,"PI"],[1,844,45,8,"this"],[1,849,45,13,"rotation"],[1,858,45,24,"Math"],[1,863,45,29,"PI"],[1,866,45,34],[1,868,46,6,"this"],[1,873,46,11,"_rotation"],[1,884,46,24,"Math"],[1,889,46,29,"PI"],[1,892,47,15,"this"],[1,897,47,20,"rotation"],[1,907,47,32,"Math"],[1,912,47,37,"PI"],[1,915,47,42],[1,919,48,6,"this"],[1,924,48,11,"_rotation"],[1,935,48,24,"Math"],[1,940,48,29,"PI"],[1,943,50,2],[1,944,51,2,"finish"],[1,953,52,9,"this"],[1,958,52,14,"isInProgress"],[1,973,55,4,"this"],[1,978,55,9,"isInProgress"],[1,992,55,24],[1,994,56,4,"this"],[1,999,56,9,"keyPointers"],[1,1011,56,23],[1,1012,56,24,"NaN"],[1,1016,56,29,"NaN"],[1,1021,57,4,"this"],[1,1026,57,9,"onRotationEnd"],[1,1040,57,23,"this"],[1,1046,58,2],[1,1047,59,2,"setKeyPointers"],[1,1062,59,17,"tracker"],[1,1065,60,4],[1,1068,60,8,"this"],[1,1073,60,13,"keyPointers"],[1,1085,60,25],[1,1089,60,31,"this"],[1,1094,60,36,"keyPointers"],[1,1106,60,48],[1,1109,61,6],[1,1116,63,4],[1,1122,63,10,"pointerIDs"],[1,1124,63,23,"tracker"],[1,1126,63,31,"trackedPointers"],[1,1142,63,47,"keys"],[1,1149,64,4,"this"],[1,1154,64,9,"keyPointers"],[1,1166,64,21],[1,1169,64,26,"pointerIDs"],[1,1171,64,37,"next"],[1,1178,64,44,"value"],[1,1184,65,4,"this"],[1,1189,65,9,"keyPointers"],[1,1201,65,21],[1,1204,65,26,"pointerIDs"],[1,1206,65,37,"next"],[1,1213,65,44,"value"],[1,1218,66,2],[1,1219,67,2,"onTouchEvent"],[1,1232,67,15,"event"],[1,1234,67,22,"tracker"],[1,1237,68,4],[1,1244,68,12,"event"],[1,1246,68,18,"eventType"],[1,1257,69,6],[1,1262,69,11,"_interfaces"],[1,1264,69,23,"EventTypes"],[1,1275,69,34,"DOWN"],[1,1280,70,8,"this"],[1,1285,70,13,"isInProgress"],[1,1299,70,28],[1,1301,71,8],[1,1307,72,6],[1,1312,72,11,"_interfaces"],[1,1314,72,23,"EventTypes"],[1,1325,72,34,"ADDITIONAL_POINTER_DOWN"],[1,1349,73,8],[1,1352,73,12,"this"],[1,1357,73,17,"isInProgress"],[1,1370,74,10],[1,1376,76,8,"this"],[1,1381,76,13,"isInProgress"],[1,1395,76,28],[1,1397,77,8,"this"],[1,1402,77,13,"previousTime"],[1,1415,77,28,"event"],[1,1417,77,34,"time"],[1,1422,78,8,"this"],[1,1427,78,13,"previousAngle"],[1,1441,78,29,"NaN"],[1,1445,79,8,"this"],[1,1450,79,13,"setKeyPointers"],[1,1465,79,28,"tracker"],[1,1468,80,8,"this"],[1,1473,80,13,"updateCurrent"],[1,1487,80,27,"event"],[1,1489,80,34,"tracker"],[1,1492,81,8,"this"],[1,1497,81,13,"onRotationBegin"],[1,1513,81,29,"this"],[1,1519,82,8],[1,1525,83,6],[1,1530,83,11,"_interfaces"],[1,1532,83,23,"EventTypes"],[1,1543,83,34,"MOVE"],[1,1548,84,8],[1,1552,84,13,"this"],[1,1557,84,18,"isInProgress"],[1,1570,85,10],[1,1576,87,8,"this"],[1,1581,87,13,"updateCurrent"],[1,1595,87,27,"event"],[1,1597,87,34,"tracker"],[1,1600,88,8,"this"],[1,1605,88,13,"onRotation"],[1,1616,88,24,"this"],[1,1622,89,8],[1,1628,90,6],[1,1633,90,11,"_interfaces"],[1,1635,90,23,"EventTypes"],[1,1646,90,34,"ADDITIONAL_POINTER_UP"],[1,1668,91,8],[1,1672,91,13,"this"],[1,1677,91,18,"isInProgress"],[1,1690,92,10],[1,1696,94,12,"this"],[1,1701,94,17,"keyPointers"],[1,1713,94,29,"indexOf"],[1,1721,94,37,"event"],[1,1723,94,43,"pointerId"],[1,1735,94,57],[1,1738,95,10,"this"],[1,1743,95,15,"finish"],[1,1752,97,8],[1,1758,98,6],[1,1763,98,11,"_interfaces"],[1,1765,98,23,"EventTypes"],[1,1776,98,34,"UP"],[1,1779,99,12,"this"],[1,1784,99,17,"isInProgress"],[1,1798,100,10,"this"],[1,1803,100,15,"finish"],[1,1812,104,4],[1,1819,104,11],[1,1820,105,2],[1,1821,106,2,"reset"],[1,1829,107,4,"this"],[1,1834,107,9,"keyPointers"],[1,1846,107,23],[1,1847,107,24,"NaN"],[1,1851,107,29,"NaN"],[1,1856,108,4,"this"],[1,1861,108,9,"isInProgress"],[1,1875,108,24],[1,1876,109,2],[1,1877,110,2],[1,1888,110,6,"anchorX"],[1,1891,111,4],[1,1898,111,11,"this"],[1,1903,111,16,"_anchorX"],[1,1911,112,2],[1,1912,113,2],[1,1923,113,6,"anchorY"],[1,1926,114,4],[1,1933,114,11,"this"],[1,1938,114,16,"_anchorY"],[1,1946,115,2],[1,1947,116,2],[1,1959,116,6,"rotation"],[1,1962,117,4],[1,1969,117,11,"this"],[1,1974,117,16,"_rotation"],[1,1983,118,2],[1,1984,119,2],[1,1997,119,6,"timeDelta"],[1,2000,120,4],[1,2007,120,11,"this"],[1,2012,120,16,"currentTime"],[1,2024,120,30,"this"],[1,2029,120,35,"previousTime"],[1,2041,121,2],[1,2043,123,42],[1,2046]],"functionMap":{"names":["<global>","RotationGestureDetector","constructor","updateCurrent","finish","setKeyPointers","onTouchEvent","reset","get__anchorX","get__anchorY","get__rotation","get__timeDelta"],"mappings":"AAA;ACO;ECS;GDI;EEC;GF4B;EGC;GHO;EIC;GJO;EKC;GLsC;EMC;GNG;EOC;GPE;EQC;GRE;ESC;GTE;EUC;GVE;CDC"},"hasCjsExports":true},"type":"js/module"}]}