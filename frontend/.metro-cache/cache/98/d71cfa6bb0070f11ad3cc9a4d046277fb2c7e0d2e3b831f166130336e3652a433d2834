{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":13,"index":119},"end":{"line":7,"column":35,"index":141}}],"key":"isk6DFwvBR7hH+nInAlMqUOxHEs=","exportNames":["*"],"imports":1}},{"name":"../../Directions","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":18,"index":161},"end":{"line":8,"column":45,"index":188}}],"key":"GAbjt/Hy0pRSJKSf8CzR7q2/snc=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":45,"index":235},"end":{"line":9,"column":72,"index":262}}],"key":"Dyu05fXkMyZwC6kSiKGxm+x47LU=","exportNames":["*"],"imports":1}},{"name":"../tools/Vector","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":37,"index":302},"end":{"line":10,"column":63,"index":328}}],"key":"3G5PPPGQWEQwDLs9noq5D25VWfo=","exportNames":["*"],"imports":1}},{"name":"../utils","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":11,"column":13,"index":344},"end":{"line":11,"column":32,"index":363}}],"key":"RFGtgFE/Tu4zdfnbMKbFHDM/T4I=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.default=void 0;var t=r(d[0]),e=r(d[1]),n=u(r(d[2])),o=u(r(d[3])),s=r(d[4]);function u(t){return t&&t.__esModule?t:{default:t}}const c=e.Directions.RIGHT,h=(0,s.coneToDeviation)(30),l=(0,s.coneToDeviation)(60);class f extends n.default{numberOfPointersRequired=1;direction=c;maxDurationMs=800;minVelocity=700;maxNumberOfPointersSimultaneously=0;keyPointer=NaN;updateGestureConfig({enabled:t=!0,...e}){super.updateGestureConfig({enabled:t,...e}),this.config.direction&&(this.direction=this.config.direction),this.config.numberOfPointers&&(this.numberOfPointersRequired=this.config.numberOfPointers)}startFling(){this.begin(),this.maxNumberOfPointersSimultaneously=1,this.delayTimeout=setTimeout(()=>this.fail(),this.maxDurationMs)}tryEndFling(){const t=o.default.fromVelocity(this.tracker,this.keyPointer);if(!t)return!1;const n=(e,n)=>(e&this.direction)===e&&t.isSimilar(o.default.fromDirection(e),n),s=Object.values(e.Directions),u=Object.values(e.DiagonalDirections),c=s.map(t=>n(t,h)),f=u.map(t=>n(t,l)),P=c.some(Boolean)||f.some(Boolean),p=t.magnitude>this.minVelocity;return!(this.maxNumberOfPointersSimultaneously!==this.numberOfPointersRequired||!P||!p)&&(clearTimeout(this.delayTimeout),this.activate(),!0)}endFling(){this.tryEndFling()||this.fail()}onPointerDown(t){this.isButtonInConfig(t.button)&&(this.tracker.addToTracker(t),this.keyPointer=t.pointerId,super.onPointerDown(t),this.newPointerAction(),this.tryToSendTouchEvent(t))}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.newPointerAction()}newPointerAction(){this.state===t.State.UNDETERMINED&&this.startFling(),this.state===t.State.BEGAN&&(this.tryEndFling(),this.tracker.trackedPointersCount>this.maxNumberOfPointersSimultaneously&&(this.maxNumberOfPointersSimultaneously=this.tracker.trackedPointersCount))}pointerMoveAction(e){this.tracker.track(e),this.state===t.State.BEGAN&&this.tryEndFling()}onPointerMove(t){this.pointerMoveAction(t),super.onPointerMove(t)}onPointerOutOfBounds(t){this.pointerMoveAction(t),super.onPointerOutOfBounds(t)}onPointerUp(t){super.onPointerUp(t),this.onUp(t),this.keyPointer=NaN}onPointerRemove(t){super.onPointerRemove(t),this.onUp(t)}onUp(e){this.state===t.State.BEGAN&&this.endFling(),this.tracker.removeFromTracker(e.pointerId)}activate(t){super.activate(t),this.end()}resetConfig(){super.resetConfig(),this.numberOfPointersRequired=1,this.direction=c}}_e.default=f});","lineCount":1,"map":[[1,29,1,0],[1,42,3,0,"Object"],[1,49,3,7,"defineProperty"],[1,64,3,22,"exports"],[1,67,3,31],[1,80,3,45],[1,81,4,2,"value"],[1,88,4,9],[1,92,6,0,"exports"],[1,95,6,8,"default"],[1,108,6,15,"undefined"],[1,110,7,0],[1,114,7,4,"_State"],[1,116,7,13,"require"],[1,118,7,20,"d"],[1,120,7,20],[1,124,8,4,"_Directions"],[1,126,8,18,"require"],[1,128,8,25,"d"],[1,130,8,25],[1,134,9,4,"_GestureHandler"],[1,136,9,22,"_interopRequireDefault"],[1,138,9,45,"require"],[1,140,9,52,"d"],[1,142,9,52],[1,147,10,4,"_Vector"],[1,149,10,14,"_interopRequireDefault"],[1,151,10,37,"require"],[1,153,10,44,"d"],[1,155,10,44],[1,160,11,4,"_utils"],[1,162,11,13,"require"],[1,164,11,20,"d"],[1,166,11,20],[1,170,12,0],[1,179,12,9,"_interopRequireDefault"],[1,181,12,32,"e"],[1,184,12,37],[1,191,12,44,"e"],[1,194,12,49,"e"],[1,196,12,51,"__esModule"],[1,207,12,64,"e"],[1,209,12,68],[1,210,12,70,"default"],[1,218,12,79,"e"],[1,220,12,84],[1,221,13,0],[1,227,16,6,"DEFAULT_DIRECTION"],[1,229,16,26,"_Directions"],[1,231,16,38,"Directions"],[1,242,16,49,"RIGHT"],[1,248,18,6,"AXIAL_DEVIATION_COSINE"],[1,251,18,31],[1,253,18,35,"_utils"],[1,255,18,42,"coneToDeviation"],[1,272,15,31],[1,276,19,6,"DIAGONAL_DEVIATION_COSINE"],[1,279,19,34],[1,281,19,38,"_utils"],[1,283,19,45,"coneToDeviation"],[1,300,19,60],[1,304,20,0],[1,310,20,6,"FlingGestureHandler"],[1,320,20,34,"_GestureHandler"],[1,322,20,50,"default"],[1,330,21,2,"numberOfPointersRequired"],[1,355,17,43],[1,357,22,2,"direction"],[1,367,22,14,"DEFAULT_DIRECTION"],[1,369,23,2,"maxDurationMs"],[1,383,13,32],[1,387,24,2,"minVelocity"],[1,399,14,29],[1,403,25,2,"maxNumberOfPointersSimultaneously"],[1,437,25,38],[1,439,26,2,"keyPointer"],[1,450,26,15,"NaN"],[1,454,27,2,"updateGestureConfig"],[1,475,27,22,"enabled"],[1,483,28,4,"enabled"],[1,486,28,14],[1,491,29,7,"props"],[1,495,31,4,"super"],[1,501,31,10,"updateGestureConfig"],[1,521,31,30],[1,522,32,6,"enabled"],[1,530,32,15,"enabled"],[1,535,33,9,"props"],[1,539,35,8,"this"],[1,544,35,13,"config"],[1,551,35,20,"direction"],[1,563,36,6,"this"],[1,568,36,11,"direction"],[1,578,36,23,"this"],[1,583,36,28,"config"],[1,590,36,35,"direction"],[1,601,38,8,"this"],[1,606,38,13,"config"],[1,613,38,20,"numberOfPointers"],[1,632,39,6,"this"],[1,637,39,11,"numberOfPointersRequired"],[1,662,39,38,"this"],[1,667,39,43,"config"],[1,674,39,50,"numberOfPointers"],[1,691,41,2],[1,692,42,2,"startFling"],[1,705,43,4,"this"],[1,710,43,9,"begin"],[1,718,44,4,"this"],[1,723,44,9,"maxNumberOfPointersSimultaneously"],[1,757,44,45],[1,759,45,4,"this"],[1,764,45,9,"delayTimeout"],[1,777,45,24,"setTimeout"],[1,788,45,35],[1,792,45,41,"this"],[1,797,45,46,"fail"],[1,804,45,54,"this"],[1,809,45,59,"maxDurationMs"],[1,823,46,2],[1,824,47,2,"tryEndFling"],[1,838,48,4],[1,844,48,10,"velocityVector"],[1,846,48,27,"_Vector"],[1,848,48,35,"default"],[1,856,48,43,"fromVelocity"],[1,869,48,56,"this"],[1,874,48,61,"tracker"],[1,882,48,70,"this"],[1,887,48,75,"keyPointer"],[1,899,49,4],[1,903,49,9,"velocityVector"],[1,905,50,6],[1,912,50,13],[1,914,52,4],[1,920,52,10,"getAlignment"],[1,922,52,25,"getAlignment"],[1,923,52,26,"direction"],[1,925,52,37,"minimalAlignmentCosine"],[1,930,53,14,"direction"],[1,932,53,26,"this"],[1,937,53,31,"direction"],[1,950,53,46,"direction"],[1,953,53,59,"velocityVector"],[1,955,53,74,"isSimilar"],[1,965,53,84,"_Vector"],[1,967,53,92,"default"],[1,975,53,100,"fromDirection"],[1,989,53,114,"direction"],[1,992,53,126,"minimalAlignmentCosine"],[1,995,55,10,"axialDirectionsList"],[1,997,55,32,"Object"],[1,1004,55,39,"values"],[1,1011,55,46,"_Directions"],[1,1013,55,58,"Directions"],[1,1025,56,10,"diagonalDirectionsList"],[1,1027,56,35,"Object"],[1,1034,56,42,"values"],[1,1041,56,49,"_Directions"],[1,1043,56,61,"DiagonalDirections"],[1,1063,59,10,"axialAlignmentList"],[1,1065,59,31,"axialDirectionsList"],[1,1067,59,51,"map"],[1,1071,59,55,"direction"],[1,1074,59,68,"getAlignment"],[1,1076,59,81,"direction"],[1,1078,59,92,"AXIAL_DEVIATION_COSINE"],[1,1082,60,10,"diagonalAlignmentList"],[1,1084,60,34,"diagonalDirectionsList"],[1,1086,60,57,"map"],[1,1090,60,61,"direction"],[1,1093,60,74,"getAlignment"],[1,1095,60,87,"direction"],[1,1097,60,98,"DIAGONAL_DEVIATION_COSINE"],[1,1101,61,10,"isAligned"],[1,1103,61,22,"axialAlignmentList"],[1,1105,61,41,"some"],[1,1110,61,46,"Boolean"],[1,1120,61,58,"diagonalAlignmentList"],[1,1122,61,80,"some"],[1,1127,61,85,"Boolean"],[1,1136,62,10,"isFast"],[1,1138,62,19,"velocityVector"],[1,1140,62,34,"magnitude"],[1,1150,62,46,"this"],[1,1155,62,51,"minVelocity"],[1,1167,63,4],[1,1175,63,8,"this"],[1,1180,63,13,"maxNumberOfPointersSimultaneously"],[1,1216,63,51,"this"],[1,1221,63,56,"numberOfPointersRequired"],[1,1248,63,84,"isAligned"],[1,1252,63,97,"isFast"],[1,1257,64,6,"clearTimeout"],[1,1270,64,19,"this"],[1,1275,64,24,"delayTimeout"],[1,1289,65,6,"this"],[1,1294,65,11,"activate"],[1,1306,66,13],[1,1308,69,2],[1,1309,70,2,"endFling"],[1,1320,71,9,"this"],[1,1325,71,14,"tryEndFling"],[1,1340,72,6,"this"],[1,1345,72,11,"fail"],[1,1351,74,2],[1,1352,75,2,"onPointerDown"],[1,1366,75,16,"event"],[1,1369,76,9,"this"],[1,1374,76,14,"isButtonInConfig"],[1,1391,76,31,"event"],[1,1393,76,37,"button"],[1,1403,79,4,"this"],[1,1408,79,9,"tracker"],[1,1416,79,17,"addToTracker"],[1,1429,79,30,"event"],[1,1432,80,4,"this"],[1,1437,80,9,"keyPointer"],[1,1448,80,22,"event"],[1,1450,80,28,"pointerId"],[1,1460,81,4,"super"],[1,1466,81,10,"onPointerDown"],[1,1480,81,24,"event"],[1,1483,82,4,"this"],[1,1488,82,9,"newPointerAction"],[1,1507,83,4,"this"],[1,1512,83,9,"tryToSendTouchEvent"],[1,1532,83,29,"event"],[1,1535,84,2],[1,1536,85,2,"onPointerAdd"],[1,1549,85,15,"event"],[1,1552,86,4,"this"],[1,1557,86,9,"tracker"],[1,1565,86,17,"addToTracker"],[1,1578,86,30,"event"],[1,1581,87,4,"super"],[1,1587,87,10,"onPointerAdd"],[1,1600,87,23,"event"],[1,1603,88,4,"this"],[1,1608,88,9,"newPointerAction"],[1,1626,89,2],[1,1627,90,2,"newPointerAction"],[1,1646,91,8,"this"],[1,1651,91,13,"state"],[1,1659,91,23,"_State"],[1,1661,91,30,"State"],[1,1667,91,36,"UNDETERMINED"],[1,1681,92,6,"this"],[1,1686,92,11,"startFling"],[1,1699,94,8,"this"],[1,1704,94,13,"state"],[1,1712,94,23,"_State"],[1,1714,94,30,"State"],[1,1720,94,36,"BEGAN"],[1,1728,97,4,"this"],[1,1733,97,9,"tryEndFling"],[1,1747,98,8,"this"],[1,1752,98,13,"tracker"],[1,1760,98,21,"trackedPointersCount"],[1,1781,98,44,"this"],[1,1786,98,49,"maxNumberOfPointersSimultaneously"],[1,1822,99,6,"this"],[1,1827,99,11,"maxNumberOfPointersSimultaneously"],[1,1861,99,47,"this"],[1,1866,99,52,"tracker"],[1,1874,99,60,"trackedPointersCount"],[1,1896,101,2],[1,1897,102,2,"pointerMoveAction"],[1,1915,102,20,"event"],[1,1918,103,4,"this"],[1,1923,103,9,"tracker"],[1,1931,103,17,"track"],[1,1937,103,23,"event"],[1,1940,104,8,"this"],[1,1945,104,13,"state"],[1,1953,104,23,"_State"],[1,1955,104,30,"State"],[1,1961,104,36,"BEGAN"],[1,1968,107,4,"this"],[1,1973,107,9,"tryEndFling"],[1,1986,108,2],[1,1987,109,2,"onPointerMove"],[1,2001,109,16,"event"],[1,2004,110,4,"this"],[1,2009,110,9,"pointerMoveAction"],[1,2027,110,27,"event"],[1,2030,111,4,"super"],[1,2036,111,10,"onPointerMove"],[1,2050,111,24,"event"],[1,2052,112,2],[1,2053,113,2,"onPointerOutOfBounds"],[1,2074,113,23,"event"],[1,2077,114,4,"this"],[1,2082,114,9,"pointerMoveAction"],[1,2100,114,27,"event"],[1,2103,115,4,"super"],[1,2109,115,10,"onPointerOutOfBounds"],[1,2130,115,31,"event"],[1,2132,116,2],[1,2133,117,2,"onPointerUp"],[1,2145,117,14,"event"],[1,2148,118,4,"super"],[1,2154,118,10,"onPointerUp"],[1,2166,118,22,"event"],[1,2169,119,4,"this"],[1,2174,119,9,"onUp"],[1,2179,119,14,"event"],[1,2182,120,4,"this"],[1,2187,120,9,"keyPointer"],[1,2198,120,22,"NaN"],[1,2201,121,2],[1,2202,122,2,"onPointerRemove"],[1,2218,122,18,"event"],[1,2221,123,4,"super"],[1,2227,123,10,"onPointerRemove"],[1,2243,123,26,"event"],[1,2246,124,4,"this"],[1,2251,124,9,"onUp"],[1,2256,124,14,"event"],[1,2258,125,2],[1,2259,126,2,"onUp"],[1,2264,126,7,"event"],[1,2267,127,8,"this"],[1,2272,127,13,"state"],[1,2280,127,23,"_State"],[1,2282,127,30,"State"],[1,2288,127,36,"BEGAN"],[1,2295,128,6,"this"],[1,2300,128,11,"endFling"],[1,2311,130,4,"this"],[1,2316,130,9,"tracker"],[1,2324,130,17,"removeFromTracker"],[1,2342,130,35,"event"],[1,2344,130,41,"pointerId"],[1,2354,131,2],[1,2355,132,2,"activate"],[1,2364,132,11,"force"],[1,2367,133,4,"super"],[1,2373,133,10,"activate"],[1,2382,133,19,"force"],[1,2385,134,4,"this"],[1,2390,134,9,"end"],[1,2395,135,2],[1,2396,136,2,"resetConfig"],[1,2410,137,4,"super"],[1,2416,137,10,"resetConfig"],[1,2430,138,4,"this"],[1,2435,138,9,"numberOfPointersRequired"],[1,2460,17,43],[1,2462,139,4,"this"],[1,2467,139,9,"direction"],[1,2477,139,21,"DEFAULT_DIRECTION"],[1,2478,140,2],[1,2480,142,0,"exports"],[1,2483,142,8,"default"],[1,2491,142,18,"FlingGestureHandler"],[1,2492,142,38],[1,2495]],"functionMap":{"names":["<global>","_interopRequireDefault","FlingGestureHandler","updateGestureConfig","startFling","setTimeout$argument_0","tryEndFling","getAlignment","axialDirectionsList.map$argument_0","diagonalDirectionsList.map$argument_0","endFling","onPointerDown","onPointerAdd","newPointerAction","pointerMoveAction","onPointerMove","onPointerOutOfBounds","onPointerUp","onPointerRemove","onUp","activate","resetConfig"],"mappings":"AAA;ACW,qFD;AEQ;ECO;GDc;EEC;mCCG,iBD;GFC;EIC;yBCK;KDE;uDEK,4DF;6DGC,+DH;GJS;EQC;GRI;ESC;GTS;EUC;GVI;EWC;GXW;EYC;GZM;EaC;GbG;EcC;GdG;EeC;GfI;EgBC;GhBG;EiBC;GjBK;EkBC;GlBG;EmBC;GnBI;CFC"},"hasCjsExports":true},"type":"js/module"}]}