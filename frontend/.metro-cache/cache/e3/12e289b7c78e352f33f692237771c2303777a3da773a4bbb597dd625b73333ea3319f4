{"dependencies":[{"name":"./helpers","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":49,"index":49}}],"key":"kg0rJsyHf+Iyf4Z1AFOYGhKLkW4=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"internals\",{enumerable:!0,get:function(){return o}}),Object.defineProperty(_e,\"LockAcquireTimeoutError\",{enumerable:!0,get:function(){return t}}),Object.defineProperty(_e,\"NavigatorLockAcquireTimeoutError\",{enumerable:!0,get:function(){return n}}),Object.defineProperty(_e,\"ProcessLockAcquireTimeoutError\",{enumerable:!0,get:function(){return s}}),_e.navigatorLock=async function(e,t,s){o.debug&&console.log('@supabase/gotrue-js: navigatorLock: acquire lock',e,t);const u=new globalThis.AbortController;t>0&&setTimeout(()=>{u.abort(),o.debug&&console.log('@supabase/gotrue-js: navigatorLock acquire timed out',e)},t);await Promise.resolve();try{return await globalThis.navigator.locks.request(e,0===t?{mode:'exclusive',ifAvailable:!0}:{mode:'exclusive',signal:u.signal},async u=>{if(!u){if(0===t)throw o.debug&&console.log('@supabase/gotrue-js: navigatorLock: not immediately available',e),new n(`Acquiring an exclusive Navigator LockManager lock \"${e}\" immediately failed`);if(o.debug)try{const e=await globalThis.navigator.locks.query();console.log('@supabase/gotrue-js: Navigator LockManager state',JSON.stringify(e,null,'  '))}catch(e){console.warn('@supabase/gotrue-js: Error when querying Navigator LockManager state',e)}return console.warn('@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request'),await s()}o.debug&&console.log('@supabase/gotrue-js: navigatorLock: acquired',e,u.name);try{return await s()}finally{o.debug&&console.log('@supabase/gotrue-js: navigatorLock: released',e,u.name)}})}catch(o){if('AbortError'===(null==o?void 0:o.name))throw new n(`Acquiring an exclusive Navigator LockManager lock \"${e}\" timed out waiting ${t}ms`);throw o}},_e.processLock=async function(e,o,t){var n;const c=null!==(n=u[e])&&void 0!==n?n:Promise.resolve(),l=(async()=>{try{return await c,null}catch(e){return null}})(),b=(async()=>{let n=null;try{const t=o>=0?new Promise((t,u)=>{n=setTimeout(()=>{console.warn(`@supabase/gotrue-js: Lock \"${e}\" acquisition timed out after ${o}ms. This may be caused by another operation holding the lock. Consider increasing lockAcquireTimeout or checking for stuck operations.`),u(new s(`Acquiring process lock with name \"${e}\" timed out`))},o)}):null;await Promise.race([l,t].filter(e=>e)),null!==n&&clearTimeout(n)}catch(e){if(null!==n&&clearTimeout(n),e&&e.isAcquireTimeout)throw e}return await t()})();return u[e]=(async()=>{try{return await b}catch(e){if(e&&e.isAcquireTimeout){try{await c}catch(e){}return null}throw e}})(),await b};var e=r(d[0]);const o={debug:!!(globalThis&&(0,e.supportsLocalStorage)()&&globalThis.localStorage&&'true'===globalThis.localStorage.getItem('supabase.gotrue-js.locks.debug'))};class t extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class n extends t{}class s extends t{}const u={}});","lineCount":1,"map":[[1,92,5,0,"Object"],[1,99,5,0,"defineProperty"],[1,114,5,0,"_e"],[1,117,5,0],[1,130,5,0,"enumerable"],[1,142,5,0],[1,144,5,0,"get"],[1,148,5,0],[1,166,5,0,"internals"],[1,167,5,0],[1,171,30,0,"Object"],[1,178,30,0,"defineProperty"],[1,193,30,0,"_e"],[1,196,30,0],[1,223,30,0,"enumerable"],[1,235,30,0],[1,237,30,0,"get"],[1,241,30,0],[1,259,30,0,"LockAcquireTimeoutError"],[1,260,30,0],[1,264,46,0,"Object"],[1,271,46,0,"defineProperty"],[1,286,46,0,"_e"],[1,289,46,0],[1,325,46,0,"enumerable"],[1,337,46,0],[1,339,46,0,"get"],[1,343,46,0],[1,361,46,0,"NavigatorLockAcquireTimeoutError"],[1,362,46,0],[1,366,58,0,"Object"],[1,373,58,0,"defineProperty"],[1,388,58,0,"_e"],[1,391,58,0],[1,425,58,0,"enumerable"],[1,437,58,0],[1,439,58,0,"get"],[1,443,58,0],[1,461,58,0,"ProcessLockAcquireTimeoutError"],[1,462,58,0],[1,466,91,0,"_e"],[1,469,91,0,"navigatorLock"],[1,483,91,7,"async"],[1,498,91,36,"name"],[1,500,91,42,"acquireTimeout"],[1,502,91,58,"fn"],[1,505,92,8,"internals"],[1,507,92,18,"debug"],[1,514,93,8,"console"],[1,522,93,16,"log"],[1,526,93,20],[1,577,93,72,"name"],[1,579,93,78,"acquireTimeout"],[1,582,95,4],[1,588,95,10,"abortController"],[1,590,95,28],[1,594,95,32,"globalThis"],[1,605,95,43,"AbortController"],[1,621,96,8,"acquireTimeout"],[1,623,96,25],[1,626,97,8,"setTimeout"],[1,637,97,19],[1,642,98,12,"abortController"],[1,644,98,28,"abort"],[1,652,99,16,"internals"],[1,654,99,26,"debug"],[1,661,100,16,"console"],[1,669,100,24,"log"],[1,673,100,28],[1,728,100,84,"name"],[1,732,102,11,"acquireTimeout"],[1,741,109,10,"Promise"],[1,749,109,18,"resolve"],[1,759,110,4],[1,763,111,8],[1,776,111,21,"globalThis"],[1,787,111,32,"navigator"],[1,797,111,42,"locks"],[1,803,111,48,"request"],[1,811,111,56,"name"],[1,813,111,81],[1,817,111,62,"acquireTimeout"],[1,819,112,14],[1,820,113,16,"mode"],[1,825,113,22],[1,837,114,16,"ifAvailable"],[1,850,114,29],[1,853,116,14],[1,854,117,16,"mode"],[1,859,117,22],[1,871,118,16,"signal"],[1,878,118,24,"abortController"],[1,880,118,40,"signal"],[1,888,119,15,"async"],[1,898,120,12],[1,902,120,16,"lock"],[1,904,133,17],[1,905,134,16],[1,908,134,39],[1,912,134,20,"acquireTimeout"],[1,914,138,20],[1,920,135,24,"internals"],[1,922,135,34,"debug"],[1,929,136,24,"console"],[1,937,136,32,"log"],[1,941,136,36],[1,1005,136,101,"name"],[1,1008,138,26],[1,1012,138,30,"NavigatorLockAcquireTimeoutError"],[1,1014,138,63],[1,1068,138,117,"name"],[1,1093,141,20],[1,1096,141,24,"internals"],[1,1098,141,34,"debug"],[1,1104,142,24],[1,1108,143,28],[1,1114,143,34,"result"],[1,1122,143,49,"globalThis"],[1,1133,143,60,"navigator"],[1,1143,143,70,"locks"],[1,1149,143,76,"query"],[1,1157,144,28,"console"],[1,1165,144,36,"log"],[1,1169,144,40],[1,1220,144,92,"JSON"],[1,1225,144,97,"stringify"],[1,1235,144,107,"result"],[1,1237,144,115],[1,1242,144,121],[1,1248,145,24],[1,1249,146,24],[1,1255,146,31,"e"],[1,1258,147,28,"console"],[1,1266,147,36,"warn"],[1,1271,147,41],[1,1342,147,113,"e"],[1,1344,148,24],[1,1345,155,20],[1,1352,154,20,"console"],[1,1360,154,28,"warn"],[1,1365,154,33],[1,1622,155,33,"fn"],[1,1625,157,12],[1,1626,121,20,"internals"],[1,1628,121,30,"debug"],[1,1635,122,20,"console"],[1,1643,122,28,"log"],[1,1647,122,32],[1,1694,122,80,"name"],[1,1696,122,86,"lock"],[1,1698,122,91,"name"],[1,1704,124,16],[1,1708,125,20],[1,1721,125,33,"fn"],[1,1724,126,16],[1,1725,126,17],[1,1733,128,24,"internals"],[1,1735,128,34,"debug"],[1,1742,129,24,"console"],[1,1750,129,32,"log"],[1,1754,129,36],[1,1801,129,84,"name"],[1,1803,129,90,"lock"],[1,1805,129,95,"name"],[1,1810,131,16],[1,1813,159,4],[1,1814,160,4],[1,1820,160,11,"e"],[1,1823,164,8],[1,1826,164,63],[1,1842,164,13,"e"],[1,1855,164,39,"undefined"],[1,1857,164,51,"e"],[1,1859,164,53,"name"],[1,1865,165,12],[1,1871,165,18],[1,1875,165,22,"NavigatorLockAcquireTimeoutError"],[1,1877,165,55],[1,1931,165,109,"name"],[1,1955,165,136,"acquireTimeout"],[1,1962,167,8],[1,1968,167,14,"e"],[1,1969,168,4],[1,1970,169,0],[1,1972,191,0,"_e"],[1,1975,191,0,"processLock"],[1,1987,191,7,"async"],[1,2002,191,34,"name"],[1,2004,191,40,"acquireTimeout"],[1,2006,191,56,"fn"],[1,2009,192,4],[1,2013,192,8,"_a"],[1,2015,193,4],[1,2021,193,10,"previousOperation"],[1,2023,193,61],[1,2031,193,31,"_a"],[1,2033,193,36,"PROCESS_LOCKS"],[1,2035,193,50,"name"],[1,2045,193,71,"undefined"],[1,2049,193,69,"_a"],[1,2051,193,85,"_a"],[1,2053,193,90,"Promise"],[1,2061,193,98,"resolve"],[1,2071,196,10,"previousOperationHandled"],[1,2073,196,37],[1,2084,197,8],[1,2088,199,12],[1,2101,198,18,"previousOperation"],[1,2103,199,19],[1,2107,200,8],[1,2108,201,8],[1,2114,201,15,"e"],[1,2117,203,12],[1,2124,203,19],[1,2128,204,8],[1,2129,205,5],[1,2131,196,37],[1,2134,206,10,"currentOperation"],[1,2136,206,29],[1,2147,207,8],[1,2151,207,12,"timeoutId"],[1,2153,207,24],[1,2158,208,8],[1,2162,210,12],[1,2168,210,18,"timeoutPromise"],[1,2170,210,35,"acquireTimeout"],[1,2173,210,53],[1,2175,211,18],[1,2179,211,22,"Promise"],[1,2187,211,30],[1,2188,211,31,"_"],[1,2190,211,34,"reject"],[1,2195,212,20,"timeoutId"],[1,2197,212,32,"setTimeout"],[1,2208,212,43],[1,2213,213,24,"console"],[1,2221,213,32,"warn"],[1,2226,213,37],[1,2256,213,67,"name"],[1,2290,213,104,"acquireTimeout"],[1,2429,216,24,"reject"],[1,2431,216,31],[1,2435,216,35,"ProcessLockAcquireTimeoutError"],[1,2437,216,66],[1,2474,216,103,"name"],[1,2492,217,23,"acquireTimeout"],[1,2497,219,18],[1,2508,220,18,"Promise"],[1,2516,220,26,"race"],[1,2521,220,31],[1,2522,220,32,"previousOperationHandled"],[1,2524,220,58,"timeoutPromise"],[1,2527,220,74,"filter"],[1,2534,220,82,"x"],[1,2537,220,88,"x"],[1,2541,223,30],[1,2548,223,16,"timeoutId"],[1,2551,224,16,"clearTimeout"],[1,2564,224,29,"timeoutId"],[1,2566,226,8],[1,2567,227,8],[1,2573,227,15,"e"],[1,2576,233,12],[1,2579,229,30],[1,2586,229,16,"timeoutId"],[1,2589,230,16,"clearTimeout"],[1,2602,230,29,"timeoutId"],[1,2605,233,16,"e"],[1,2608,233,21,"e"],[1,2610,233,23,"isAcquireTimeout"],[1,2627,234,16],[1,2633,234,22,"e"],[1,2634,237,8],[1,2635,240,8],[1,2648,240,21,"fn"],[1,2651,241,5],[1,2653,206,29],[1,2656,263,4],[1,2663,242,4,"PROCESS_LOCKS"],[1,2665,242,18,"name"],[1,2668,242,26],[1,2679,243,8],[1,2683,244,12],[1,2696,244,25,"currentOperation"],[1,2697,245,8],[1,2698,246,8],[1,2704,246,15,"e"],[1,2707,247,12],[1,2710,247,16,"e"],[1,2713,247,21,"e"],[1,2715,247,23,"isAcquireTimeout"],[1,2732,247,41],[1,2733,250,16],[1,2743,251,26,"previousOperation"],[1,2744,252,16],[1,2745,253,16],[1,2751,253,23,"prevError"],[1,2754,254,20],[1,2755,256,16],[1,2762,256,23],[1,2766,257,12],[1,2767,258,12],[1,2773,258,18,"e"],[1,2774,259,8],[1,2775,260,5],[1,2777,242,26],[1,2786,263,17,"currentOperation"],[1,2787,264,0],[1,2789,1,0],[1,2793,1,0,"_helpers"],[1,2795,1,0,"r"],[1,2797,1,0,"d"],[1,2799,1,0],[1,2803,5,7],[1,2809,5,13,"internals"],[1,2811,5,25],[1,2812,9,4,"debug"],[1,2821,9,14,"globalThis"],[1,2834,10,8],[1,2836,10,8,"supportsLocalStorage"],[1,2838,10,28,"supportsLocalStorage"],[1,2863,11,8,"globalThis"],[1,2874,11,19,"localStorage"],[1,2888,12,78],[1,2897,12,8,"globalThis"],[1,2908,12,19,"localStorage"],[1,2921,12,32,"getItem"],[1,2929,12,40],[1,2965,30,7],[1,2971,30,13,"LockAcquireTimeoutError"],[1,2981,30,45,"Error"],[1,2987,31,4,"constructor"],[1,2999,31,16,"message"],[1,3002,32,8,"super"],[1,3008,32,14,"message"],[1,3011,33,8,"this"],[1,3016,33,13,"isAcquireTimeout"],[1,3034,33,32],[1,3035,34,4],[1,3037,46,7],[1,3043,46,13,"NavigatorLockAcquireTimeoutError"],[1,3053,46,54,"LockAcquireTimeoutError"],[1,3056,58,7],[1,3062,58,13,"ProcessLockAcquireTimeoutError"],[1,3072,58,52,"LockAcquireTimeoutError"],[1,3075,170,0],[1,3081,170,6,"PROCESS_LOCKS"],[1,3083,170,22],[1,3084,170,23],[1,3085,264,1],[1,3088]],"functionMap":{"names":["<global>","LockAcquireTimeoutError","LockAcquireTimeoutError#constructor","NavigatorLockAcquireTimeoutError","ProcessLockAcquireTimeoutError","navigatorLock","setTimeout$argument_0","globalThis.navigator.locks.request$argument_2","processLock","<anonymous>","Promise$argument_0","filter$argument_0"],"mappings":"AAA;OC6B;ICC;KDG;CDC;OGW;CHC;OIW;CJC;OKgC;mBCM;SDK;eEiB;SFuC;CLW;OQsB;sCCK;KDS;8BCC;8BCK;2CJC;qBIK;iBDC;iFEE,QF;KDqB;2BCC;KDkB;CRI"},"hasCjsExports":false},"type":"js/module"}]}