{"dependencies":[{"name":"./helpers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":18,"index":315},"end":{"line":6,"column":38,"index":335}}],"key":"f1qS3jT0PALHpwfgOy1Ia0GaJzk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.ProcessLockAcquireTimeoutError = exports.NavigatorLockAcquireTimeoutError = exports.LockAcquireTimeoutError = exports.internals = void 0;\n  exports.navigatorLock = navigatorLock;\n  exports.processLock = processLock;\n  const helpers_1 = require(_dependencyMap[0], \"./helpers\");\n  /**\n   * @experimental\n   */\n  exports.internals = {\n    /**\n     * @experimental\n     */\n    debug: !!(globalThis && (0, helpers_1.supportsLocalStorage)() && globalThis.localStorage && globalThis.localStorage.getItem('supabase.gotrue-js.locks.debug') === 'true')\n  };\n  /**\n   * An error thrown when a lock cannot be acquired after some amount of time.\n   *\n   * Use the {@link #isAcquireTimeout} property instead of checking with `instanceof`.\n   *\n   * @example\n   * ```ts\n   * import { LockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * class CustomLockError extends LockAcquireTimeoutError {\n   *   constructor() {\n   *     super('Lock timed out')\n   *   }\n   * }\n   * ```\n   */\n  class LockAcquireTimeoutError extends Error {\n    constructor(message) {\n      super(message);\n      this.isAcquireTimeout = true;\n    }\n  }\n  exports.LockAcquireTimeoutError = LockAcquireTimeoutError;\n  /**\n   * Error thrown when the browser Navigator Lock API fails to acquire a lock.\n   *\n   * @example\n   * ```ts\n   * import { NavigatorLockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * throw new NavigatorLockAcquireTimeoutError('Lock timed out')\n   * ```\n   */\n  class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError {}\n  exports.NavigatorLockAcquireTimeoutError = NavigatorLockAcquireTimeoutError;\n  /**\n   * Error thrown when the process-level lock helper cannot acquire a lock.\n   *\n   * @example\n   * ```ts\n   * import { ProcessLockAcquireTimeoutError } from '@supabase/auth-js'\n   *\n   * throw new ProcessLockAcquireTimeoutError('Lock timed out')\n   * ```\n   */\n  class ProcessLockAcquireTimeoutError extends LockAcquireTimeoutError {}\n  exports.ProcessLockAcquireTimeoutError = ProcessLockAcquireTimeoutError;\n  /**\n   * Implements a global exclusive lock using the Navigator LockManager API. It\n   * is available on all browsers released after 2022-03-15 with Safari being the\n   * last one to release support. If the API is not available, this function will\n   * throw. Make sure you check availablility before configuring {@link\n   * GoTrueClient}.\n   *\n   * You can turn on debugging by setting the `supabase.gotrue-js.locks.debug`\n   * local storage item to `true`.\n   *\n   * Internals:\n   *\n   * Since the LockManager API does not preserve stack traces for the async\n   * function passed in the `request` method, a trick is used where acquiring the\n   * lock releases a previously started promise to run the operation in the `fn`\n   * function. The lock waits for that promise to finish (with or without error),\n   * while the function will finally wait for the result anyway.\n   *\n   * @param name Name of the lock to be acquired.\n   * @param acquireTimeout If negative, no timeout. If 0 an error is thrown if\n   *                       the lock can't be acquired without waiting. If positive, the lock acquire\n   *                       will time out after so many milliseconds. An error is\n   *                       a timeout if it has `isAcquireTimeout` set to true.\n   * @param fn The operation to run once the lock is acquired.\n   * @example\n   * ```ts\n   * await navigatorLock('sync-user', 1000, async () => {\n   *   await refreshSession()\n   * })\n   * ```\n   */\n  async function navigatorLock(name, acquireTimeout, fn) {\n    if (exports.internals.debug) {\n      console.log('@supabase/gotrue-js: navigatorLock: acquire lock', name, acquireTimeout);\n    }\n    const abortController = new globalThis.AbortController();\n    if (acquireTimeout > 0) {\n      setTimeout(() => {\n        abortController.abort();\n        if (exports.internals.debug) {\n          console.log('@supabase/gotrue-js: navigatorLock acquire timed out', name);\n        }\n      }, acquireTimeout);\n    }\n    // MDN article: https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request\n    // Wrapping with await Promise.resolve() is done as some libraries like zone.js\n    // patch the Promise object to track execution context. We use await instead of\n    // .then() to avoid Firefox content script security errors where accessing .then()\n    // on cross-context promises is forbidden.\n    await Promise.resolve();\n    try {\n      return await globalThis.navigator.locks.request(name, acquireTimeout === 0 ? {\n        mode: 'exclusive',\n        ifAvailable: true\n      } : {\n        mode: 'exclusive',\n        signal: abortController.signal\n      }, async lock => {\n        if (lock) {\n          if (exports.internals.debug) {\n            console.log('@supabase/gotrue-js: navigatorLock: acquired', name, lock.name);\n          }\n          try {\n            return await fn();\n          } finally {\n            if (exports.internals.debug) {\n              console.log('@supabase/gotrue-js: navigatorLock: released', name, lock.name);\n            }\n          }\n        } else {\n          if (acquireTimeout === 0) {\n            if (exports.internals.debug) {\n              console.log('@supabase/gotrue-js: navigatorLock: not immediately available', name);\n            }\n            throw new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock \"${name}\" immediately failed`);\n          } else {\n            if (exports.internals.debug) {\n              try {\n                const result = await globalThis.navigator.locks.query();\n                console.log('@supabase/gotrue-js: Navigator LockManager state', JSON.stringify(result, null, '  '));\n              } catch (e) {\n                console.warn('@supabase/gotrue-js: Error when querying Navigator LockManager state', e);\n              }\n            }\n            // Browser is not following the Navigator LockManager spec, it\n            // returned a null lock when we didn't use ifAvailable. So we can\n            // pretend the lock is acquired in the name of backward compatibility\n            // and user experience and just run the function.\n            console.warn('@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request');\n            return await fn();\n          }\n        }\n      });\n    } catch (e) {\n      // When the AbortController times out, navigator.locks.request rejects with\n      // a DOMException named 'AbortError'. Convert this to NavigatorLockAcquireTimeoutError\n      // so callers can check error.isAcquireTimeout as documented.\n      if ((e === null || e === void 0 ? void 0 : e.name) === 'AbortError') {\n        throw new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock \"${name}\" timed out waiting ${acquireTimeout}ms`);\n      }\n      throw e;\n    }\n  }\n  const PROCESS_LOCKS = {};\n  /**\n   * Implements a global exclusive lock that works only in the current process.\n   * Useful for environments like React Native or other non-browser\n   * single-process (i.e. no concept of \"tabs\") environments.\n   *\n   * Use {@link #navigatorLock} in browser environments.\n   *\n   * @param name Name of the lock to be acquired.\n   * @param acquireTimeout If negative, no timeout. If 0 an error is thrown if\n   *                       the lock can't be acquired without waiting. If positive, the lock acquire\n   *                       will time out after so many milliseconds. An error is\n   *                       a timeout if it has `isAcquireTimeout` set to true.\n   * @param fn The operation to run once the lock is acquired.\n   * @example\n   * ```ts\n   * await processLock('migrate', 5000, async () => {\n   *   await runMigration()\n   * })\n   * ```\n   */\n  async function processLock(name, acquireTimeout, fn) {\n    var _a;\n    const previousOperation = (_a = PROCESS_LOCKS[name]) !== null && _a !== void 0 ? _a : Promise.resolve();\n    // Wrap previousOperation to handle errors without using .catch()\n    // This avoids Firefox content script security errors\n    const previousOperationHandled = (async () => {\n      try {\n        await previousOperation;\n        return null;\n      } catch (e) {\n        // ignore error of previous operation that we're waiting to finish\n        return null;\n      }\n    })();\n    const currentOperation = (async () => {\n      let timeoutId = null;\n      try {\n        // Wait for either previous operation or timeout\n        const timeoutPromise = acquireTimeout >= 0 ? new Promise((_, reject) => {\n          timeoutId = setTimeout(() => {\n            console.warn(`@supabase/gotrue-js: Lock \"${name}\" acquisition timed out after ${acquireTimeout}ms. ` + 'This may be caused by another operation holding the lock. ' + 'Consider increasing lockAcquireTimeout or checking for stuck operations.');\n            reject(new ProcessLockAcquireTimeoutError(`Acquiring process lock with name \"${name}\" timed out`));\n          }, acquireTimeout);\n        }) : null;\n        await Promise.race([previousOperationHandled, timeoutPromise].filter(x => x));\n        // If we reach here, previousOperationHandled won the race\n        // Clear the timeout to prevent false warnings\n        if (timeoutId !== null) {\n          clearTimeout(timeoutId);\n        }\n      } catch (e) {\n        // Clear the timeout on error path as well\n        if (timeoutId !== null) {\n          clearTimeout(timeoutId);\n        }\n        // Re-throw timeout errors, ignore others\n        if (e && e.isAcquireTimeout) {\n          throw e;\n        }\n        // Fall through to run fn() - previous operation finished with error\n      }\n      // Previous operations finished and we didn't get a race on the acquire\n      // timeout, so the current operation can finally start\n      return await fn();\n    })();\n    PROCESS_LOCKS[name] = (async () => {\n      try {\n        return await currentOperation;\n      } catch (e) {\n        if (e && e.isAcquireTimeout) {\n          // if the current operation timed out, it doesn't mean that the previous\n          // operation finished, so we need continue waiting for it to finish\n          try {\n            await previousOperation;\n          } catch (prevError) {\n            // Ignore previous operation errors\n          }\n          return null;\n        }\n        throw e;\n      }\n    })();\n    // finally wait for the current operation to finish successfully, with an\n    // error or with an acquire timeout error\n    return await currentOperation;\n  }\n});","lineCount":257,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"ProcessLockAcquireTimeoutError"],[7,40,3,38],[7,43,3,41,"exports"],[7,50,3,48],[7,51,3,49,"NavigatorLockAcquireTimeoutError"],[7,83,3,81],[7,86,3,84,"exports"],[7,93,3,91],[7,94,3,92,"LockAcquireTimeoutError"],[7,117,3,115],[7,120,3,118,"exports"],[7,127,3,125],[7,128,3,126,"internals"],[7,137,3,135],[7,140,3,138],[7,145,3,143],[7,146,3,144],[8,2,4,0,"exports"],[8,9,4,7],[8,10,4,8,"navigatorLock"],[8,23,4,21],[8,26,4,24,"navigatorLock"],[8,39,4,37],[9,2,5,0,"exports"],[9,9,5,7],[9,10,5,8,"processLock"],[9,21,5,19],[9,24,5,22,"processLock"],[9,35,5,33],[10,2,6,0],[10,8,6,6,"helpers_1"],[10,17,6,15],[10,20,6,18,"require"],[10,27,6,25],[10,28,6,25,"_dependencyMap"],[10,42,6,25],[10,58,6,37],[10,59,6,38],[11,2,7,0],[12,0,8,0],[13,0,9,0],[14,2,10,0,"exports"],[14,9,10,7],[14,10,10,8,"internals"],[14,19,10,17],[14,22,10,20],[15,4,11,4],[16,0,12,0],[17,0,13,0],[18,4,14,4,"debug"],[18,9,14,9],[18,11,14,11],[18,12,14,12],[18,14,14,14,"globalThis"],[18,24,14,24],[18,28,15,8],[18,29,15,9],[18,30,15,10],[18,32,15,12,"helpers_1"],[18,41,15,21],[18,42,15,22,"supportsLocalStorage"],[18,62,15,42],[18,64,15,44],[18,65,15,45],[18,69,16,8,"globalThis"],[18,79,16,18],[18,80,16,19,"localStorage"],[18,92,16,31],[18,96,17,8,"globalThis"],[18,106,17,18],[18,107,17,19,"localStorage"],[18,119,17,31],[18,120,17,32,"getItem"],[18,127,17,39],[18,128,17,40],[18,160,17,72],[18,161,17,73],[18,166,17,78],[18,172,17,84],[19,2,18,0],[19,3,18,1],[20,2,19,0],[21,0,20,0],[22,0,21,0],[23,0,22,0],[24,0,23,0],[25,0,24,0],[26,0,25,0],[27,0,26,0],[28,0,27,0],[29,0,28,0],[30,0,29,0],[31,0,30,0],[32,0,31,0],[33,0,32,0],[34,0,33,0],[35,0,34,0],[36,2,35,0],[36,8,35,6,"LockAcquireTimeoutError"],[36,31,35,29],[36,40,35,38,"Error"],[36,45,35,43],[36,46,35,44],[37,4,36,4,"constructor"],[37,15,36,15,"constructor"],[37,16,36,16,"message"],[37,23,36,23],[37,25,36,25],[38,6,37,8],[38,11,37,13],[38,12,37,14,"message"],[38,19,37,21],[38,20,37,22],[39,6,38,8],[39,10,38,12],[39,11,38,13,"isAcquireTimeout"],[39,27,38,29],[39,30,38,32],[39,34,38,36],[40,4,39,4],[41,2,40,0],[42,2,41,0,"exports"],[42,9,41,7],[42,10,41,8,"LockAcquireTimeoutError"],[42,33,41,31],[42,36,41,34,"LockAcquireTimeoutError"],[42,59,41,57],[43,2,42,0],[44,0,43,0],[45,0,44,0],[46,0,45,0],[47,0,46,0],[48,0,47,0],[49,0,48,0],[50,0,49,0],[51,0,50,0],[52,0,51,0],[53,2,52,0],[53,8,52,6,"NavigatorLockAcquireTimeoutError"],[53,40,52,38],[53,49,52,47,"LockAcquireTimeoutError"],[53,72,52,70],[53,73,52,71],[54,2,54,0,"exports"],[54,9,54,7],[54,10,54,8,"NavigatorLockAcquireTimeoutError"],[54,42,54,40],[54,45,54,43,"NavigatorLockAcquireTimeoutError"],[54,77,54,75],[55,2,55,0],[56,0,56,0],[57,0,57,0],[58,0,58,0],[59,0,59,0],[60,0,60,0],[61,0,61,0],[62,0,62,0],[63,0,63,0],[64,0,64,0],[65,2,65,0],[65,8,65,6,"ProcessLockAcquireTimeoutError"],[65,38,65,36],[65,47,65,45,"LockAcquireTimeoutError"],[65,70,65,68],[65,71,65,69],[66,2,67,0,"exports"],[66,9,67,7],[66,10,67,8,"ProcessLockAcquireTimeoutError"],[66,40,67,38],[66,43,67,41,"ProcessLockAcquireTimeoutError"],[66,73,67,71],[67,2,68,0],[68,0,69,0],[69,0,70,0],[70,0,71,0],[71,0,72,0],[72,0,73,0],[73,0,74,0],[74,0,75,0],[75,0,76,0],[76,0,77,0],[77,0,78,0],[78,0,79,0],[79,0,80,0],[80,0,81,0],[81,0,82,0],[82,0,83,0],[83,0,84,0],[84,0,85,0],[85,0,86,0],[86,0,87,0],[87,0,88,0],[88,0,89,0],[89,0,90,0],[90,0,91,0],[91,0,92,0],[92,0,93,0],[93,0,94,0],[94,0,95,0],[95,0,96,0],[96,0,97,0],[97,0,98,0],[98,2,99,0],[98,17,99,15,"navigatorLock"],[98,30,99,28,"navigatorLock"],[98,31,99,29,"name"],[98,35,99,33],[98,37,99,35,"acquireTimeout"],[98,51,99,49],[98,53,99,51,"fn"],[98,55,99,53],[98,57,99,55],[99,4,100,4],[99,8,100,8,"exports"],[99,15,100,15],[99,16,100,16,"internals"],[99,25,100,25],[99,26,100,26,"debug"],[99,31,100,31],[99,33,100,33],[100,6,101,8,"console"],[100,13,101,15],[100,14,101,16,"log"],[100,17,101,19],[100,18,101,20],[100,68,101,70],[100,70,101,72,"name"],[100,74,101,76],[100,76,101,78,"acquireTimeout"],[100,90,101,92],[100,91,101,93],[101,4,102,4],[102,4,103,4],[102,10,103,10,"abortController"],[102,25,103,25],[102,28,103,28],[102,32,103,32,"globalThis"],[102,42,103,42],[102,43,103,43,"AbortController"],[102,58,103,58],[102,59,103,59],[102,60,103,60],[103,4,104,4],[103,8,104,8,"acquireTimeout"],[103,22,104,22],[103,25,104,25],[103,26,104,26],[103,28,104,28],[104,6,105,8,"setTimeout"],[104,16,105,18],[104,17,105,19],[104,23,105,25],[105,8,106,12,"abortController"],[105,23,106,27],[105,24,106,28,"abort"],[105,29,106,33],[105,30,106,34],[105,31,106,35],[106,8,107,12],[106,12,107,16,"exports"],[106,19,107,23],[106,20,107,24,"internals"],[106,29,107,33],[106,30,107,34,"debug"],[106,35,107,39],[106,37,107,41],[107,10,108,16,"console"],[107,17,108,23],[107,18,108,24,"log"],[107,21,108,27],[107,22,108,28],[107,76,108,82],[107,78,108,84,"name"],[107,82,108,88],[107,83,108,89],[108,8,109,12],[109,6,110,8],[109,7,110,9],[109,9,110,11,"acquireTimeout"],[109,23,110,25],[109,24,110,26],[110,4,111,4],[111,4,112,4],[112,4,113,4],[113,4,114,4],[114,4,115,4],[115,4,116,4],[116,4,117,4],[116,10,117,10,"Promise"],[116,17,117,17],[116,18,117,18,"resolve"],[116,25,117,25],[116,26,117,26],[116,27,117,27],[117,4,118,4],[117,8,118,8],[118,6,119,8],[118,13,119,15],[118,19,119,21,"globalThis"],[118,29,119,31],[118,30,119,32,"navigator"],[118,39,119,41],[118,40,119,42,"locks"],[118,45,119,47],[118,46,119,48,"request"],[118,53,119,55],[118,54,119,56,"name"],[118,58,119,60],[118,60,119,62,"acquireTimeout"],[118,74,119,76],[118,79,119,81],[118,80,119,82],[118,83,120,14],[119,8,121,16,"mode"],[119,12,121,20],[119,14,121,22],[119,25,121,33],[120,8,122,16,"ifAvailable"],[120,19,122,27],[120,21,122,29],[121,6,123,12],[121,7,123,13],[121,10,124,14],[122,8,125,16,"mode"],[122,12,125,20],[122,14,125,22],[122,25,125,33],[123,8,126,16,"signal"],[123,14,126,22],[123,16,126,24,"abortController"],[123,31,126,39],[123,32,126,40,"signal"],[124,6,127,12],[124,7,127,13],[124,9,127,15],[124,15,127,22,"lock"],[124,19,127,26],[124,23,127,31],[125,8,128,12],[125,12,128,16,"lock"],[125,16,128,20],[125,18,128,22],[126,10,129,16],[126,14,129,20,"exports"],[126,21,129,27],[126,22,129,28,"internals"],[126,31,129,37],[126,32,129,38,"debug"],[126,37,129,43],[126,39,129,45],[127,12,130,20,"console"],[127,19,130,27],[127,20,130,28,"log"],[127,23,130,31],[127,24,130,32],[127,70,130,78],[127,72,130,80,"name"],[127,76,130,84],[127,78,130,86,"lock"],[127,82,130,90],[127,83,130,91,"name"],[127,87,130,95],[127,88,130,96],[128,10,131,16],[129,10,132,16],[129,14,132,20],[130,12,133,20],[130,19,133,27],[130,25,133,33,"fn"],[130,27,133,35],[130,28,133,36],[130,29,133,37],[131,10,134,16],[131,11,134,17],[131,20,135,24],[132,12,136,20],[132,16,136,24,"exports"],[132,23,136,31],[132,24,136,32,"internals"],[132,33,136,41],[132,34,136,42,"debug"],[132,39,136,47],[132,41,136,49],[133,14,137,24,"console"],[133,21,137,31],[133,22,137,32,"log"],[133,25,137,35],[133,26,137,36],[133,72,137,82],[133,74,137,84,"name"],[133,78,137,88],[133,80,137,90,"lock"],[133,84,137,94],[133,85,137,95,"name"],[133,89,137,99],[133,90,137,100],[134,12,138,20],[135,10,139,16],[136,8,140,12],[136,9,140,13],[136,15,141,17],[137,10,142,16],[137,14,142,20,"acquireTimeout"],[137,28,142,34],[137,33,142,39],[137,34,142,40],[137,36,142,42],[138,12,143,20],[138,16,143,24,"exports"],[138,23,143,31],[138,24,143,32,"internals"],[138,33,143,41],[138,34,143,42,"debug"],[138,39,143,47],[138,41,143,49],[139,14,144,24,"console"],[139,21,144,31],[139,22,144,32,"log"],[139,25,144,35],[139,26,144,36],[139,89,144,99],[139,91,144,101,"name"],[139,95,144,105],[139,96,144,106],[140,12,145,20],[141,12,146,20],[141,18,146,26],[141,22,146,30,"NavigatorLockAcquireTimeoutError"],[141,54,146,62],[141,55,146,63],[141,109,146,117,"name"],[141,113,146,121],[141,135,146,143],[141,136,146,144],[142,10,147,16],[142,11,147,17],[142,17,148,21],[143,12,149,20],[143,16,149,24,"exports"],[143,23,149,31],[143,24,149,32,"internals"],[143,33,149,41],[143,34,149,42,"debug"],[143,39,149,47],[143,41,149,49],[144,14,150,24],[144,18,150,28],[145,16,151,28],[145,22,151,34,"result"],[145,28,151,40],[145,31,151,43],[145,37,151,49,"globalThis"],[145,47,151,59],[145,48,151,60,"navigator"],[145,57,151,69],[145,58,151,70,"locks"],[145,63,151,75],[145,64,151,76,"query"],[145,69,151,81],[145,70,151,82],[145,71,151,83],[146,16,152,28,"console"],[146,23,152,35],[146,24,152,36,"log"],[146,27,152,39],[146,28,152,40],[146,78,152,90],[146,80,152,92,"JSON"],[146,84,152,96],[146,85,152,97,"stringify"],[146,94,152,106],[146,95,152,107,"result"],[146,101,152,113],[146,103,152,115],[146,107,152,119],[146,109,152,121],[146,113,152,125],[146,114,152,126],[146,115,152,127],[147,14,153,24],[147,15,153,25],[147,16,154,24],[147,23,154,31,"e"],[147,24,154,32],[147,26,154,34],[148,16,155,28,"console"],[148,23,155,35],[148,24,155,36,"warn"],[148,28,155,40],[148,29,155,41],[148,99,155,111],[148,101,155,113,"e"],[148,102,155,114],[148,103,155,115],[149,14,156,24],[150,12,157,20],[151,12,158,20],[152,12,159,20],[153,12,160,20],[154,12,161,20],[155,12,162,20,"console"],[155,19,162,27],[155,20,162,28,"warn"],[155,24,162,32],[155,25,162,33],[155,274,162,282],[155,275,162,283],[156,12,163,20],[156,19,163,27],[156,25,163,33,"fn"],[156,27,163,35],[156,28,163,36],[156,29,163,37],[157,10,164,16],[158,8,165,12],[159,6,166,8],[159,7,166,9],[159,8,166,10],[160,4,167,4],[160,5,167,5],[160,6,168,4],[160,13,168,11,"e"],[160,14,168,12],[160,16,168,14],[161,6,169,8],[162,6,170,8],[163,6,171,8],[164,6,172,8],[164,10,172,12],[164,11,172,13,"e"],[164,12,172,14],[164,17,172,19],[164,21,172,23],[164,25,172,27,"e"],[164,26,172,28],[164,31,172,33],[164,36,172,38],[164,37,172,39],[164,40,172,42],[164,45,172,47],[164,46,172,48],[164,49,172,51,"e"],[164,50,172,52],[164,51,172,53,"name"],[164,55,172,57],[164,61,172,63],[164,73,172,75],[164,75,172,77],[165,8,173,12],[165,14,173,18],[165,18,173,22,"NavigatorLockAcquireTimeoutError"],[165,50,173,54],[165,51,173,55],[165,105,173,109,"name"],[165,109,173,113],[165,132,173,136,"acquireTimeout"],[165,146,173,150],[165,150,173,154],[165,151,173,155],[166,6,174,8],[167,6,175,8],[167,12,175,14,"e"],[167,13,175,15],[168,4,176,4],[169,2,177,0],[170,2,178,0],[170,8,178,6,"PROCESS_LOCKS"],[170,21,178,19],[170,24,178,22],[170,25,178,23],[170,26,178,24],[171,2,179,0],[172,0,180,0],[173,0,181,0],[174,0,182,0],[175,0,183,0],[176,0,184,0],[177,0,185,0],[178,0,186,0],[179,0,187,0],[180,0,188,0],[181,0,189,0],[182,0,190,0],[183,0,191,0],[184,0,192,0],[185,0,193,0],[186,0,194,0],[187,0,195,0],[188,0,196,0],[189,0,197,0],[190,0,198,0],[191,2,199,0],[191,17,199,15,"processLock"],[191,28,199,26,"processLock"],[191,29,199,27,"name"],[191,33,199,31],[191,35,199,33,"acquireTimeout"],[191,49,199,47],[191,51,199,49,"fn"],[191,53,199,51],[191,55,199,53],[192,4,200,4],[192,8,200,8,"_a"],[192,10,200,10],[193,4,201,4],[193,10,201,10,"previousOperation"],[193,27,201,27],[193,30,201,30],[193,31,201,31,"_a"],[193,33,201,33],[193,36,201,36,"PROCESS_LOCKS"],[193,49,201,49],[193,50,201,50,"name"],[193,54,201,54],[193,55,201,55],[193,61,201,61],[193,65,201,65],[193,69,201,69,"_a"],[193,71,201,71],[193,76,201,76],[193,81,201,81],[193,82,201,82],[193,85,201,85,"_a"],[193,87,201,87],[193,90,201,90,"Promise"],[193,97,201,97],[193,98,201,98,"resolve"],[193,105,201,105],[193,106,201,106],[193,107,201,107],[194,4,202,4],[195,4,203,4],[196,4,204,4],[196,10,204,10,"previousOperationHandled"],[196,34,204,34],[196,37,204,37],[196,38,204,38],[196,50,204,50],[197,6,205,8],[197,10,205,12],[198,8,206,12],[198,14,206,18,"previousOperation"],[198,31,206,35],[199,8,207,12],[199,15,207,19],[199,19,207,23],[200,6,208,8],[200,7,208,9],[200,8,209,8],[200,15,209,15,"e"],[200,16,209,16],[200,18,209,18],[201,8,210,12],[202,8,211,12],[202,15,211,19],[202,19,211,23],[203,6,212,8],[204,4,213,4],[204,5,213,5],[204,7,213,7],[204,8,213,8],[205,4,214,4],[205,10,214,10,"currentOperation"],[205,26,214,26],[205,29,214,29],[205,30,214,30],[205,42,214,42],[206,6,215,8],[206,10,215,12,"timeoutId"],[206,19,215,21],[206,22,215,24],[206,26,215,28],[207,6,216,8],[207,10,216,12],[208,8,217,12],[209,8,218,12],[209,14,218,18,"timeoutPromise"],[209,28,218,32],[209,31,218,35,"acquireTimeout"],[209,45,218,49],[209,49,218,53],[209,50,218,54],[209,53,219,18],[209,57,219,22,"Promise"],[209,64,219,29],[209,65,219,30],[209,66,219,31,"_"],[209,67,219,32],[209,69,219,34,"reject"],[209,75,219,40],[209,80,219,45],[210,10,220,20,"timeoutId"],[210,19,220,29],[210,22,220,32,"setTimeout"],[210,32,220,42],[210,33,220,43],[210,39,220,49],[211,12,221,24,"console"],[211,19,221,31],[211,20,221,32,"warn"],[211,24,221,36],[211,25,221,37],[211,55,221,67,"name"],[211,59,221,71],[211,92,221,104,"acquireTimeout"],[211,106,221,118],[211,112,221,124],[211,115,222,28],[211,175,222,88],[211,178,223,28],[211,252,223,102],[211,253,223,103],[212,12,224,24,"reject"],[212,18,224,30],[212,19,224,31],[212,23,224,35,"ProcessLockAcquireTimeoutError"],[212,53,224,65],[212,54,224,66],[212,91,224,103,"name"],[212,95,224,107],[212,108,224,120],[212,109,224,121],[212,110,224,122],[213,10,225,20],[213,11,225,21],[213,13,225,23,"acquireTimeout"],[213,27,225,37],[213,28,225,38],[214,8,226,16],[214,9,226,17],[214,10,226,18],[214,13,227,18],[214,17,227,22],[215,8,228,12],[215,14,228,18,"Promise"],[215,21,228,25],[215,22,228,26,"race"],[215,26,228,30],[215,27,228,31],[215,28,228,32,"previousOperationHandled"],[215,52,228,56],[215,54,228,58,"timeoutPromise"],[215,68,228,72],[215,69,228,73],[215,70,228,74,"filter"],[215,76,228,80],[215,77,228,82,"x"],[215,78,228,83],[215,82,228,88,"x"],[215,83,228,89],[215,84,228,90],[215,85,228,91],[216,8,229,12],[217,8,230,12],[218,8,231,12],[218,12,231,16,"timeoutId"],[218,21,231,25],[218,26,231,30],[218,30,231,34],[218,32,231,36],[219,10,232,16,"clearTimeout"],[219,22,232,28],[219,23,232,29,"timeoutId"],[219,32,232,38],[219,33,232,39],[220,8,233,12],[221,6,234,8],[221,7,234,9],[221,8,235,8],[221,15,235,15,"e"],[221,16,235,16],[221,18,235,18],[222,8,236,12],[223,8,237,12],[223,12,237,16,"timeoutId"],[223,21,237,25],[223,26,237,30],[223,30,237,34],[223,32,237,36],[224,10,238,16,"clearTimeout"],[224,22,238,28],[224,23,238,29,"timeoutId"],[224,32,238,38],[224,33,238,39],[225,8,239,12],[226,8,240,12],[227,8,241,12],[227,12,241,16,"e"],[227,13,241,17],[227,17,241,21,"e"],[227,18,241,22],[227,19,241,23,"isAcquireTimeout"],[227,35,241,39],[227,37,241,41],[228,10,242,16],[228,16,242,22,"e"],[228,17,242,23],[229,8,243,12],[230,8,244,12],[231,6,245,8],[232,6,246,8],[233,6,247,8],[234,6,248,8],[234,13,248,15],[234,19,248,21,"fn"],[234,21,248,23],[234,22,248,24],[234,23,248,25],[235,4,249,4],[235,5,249,5],[235,7,249,7],[235,8,249,8],[236,4,250,4,"PROCESS_LOCKS"],[236,17,250,17],[236,18,250,18,"name"],[236,22,250,22],[236,23,250,23],[236,26,250,26],[236,27,250,27],[236,39,250,39],[237,6,251,8],[237,10,251,12],[238,8,252,12],[238,15,252,19],[238,21,252,25,"currentOperation"],[238,37,252,41],[239,6,253,8],[239,7,253,9],[239,8,254,8],[239,15,254,15,"e"],[239,16,254,16],[239,18,254,18],[240,8,255,12],[240,12,255,16,"e"],[240,13,255,17],[240,17,255,21,"e"],[240,18,255,22],[240,19,255,23,"isAcquireTimeout"],[240,35,255,39],[240,37,255,41],[241,10,256,16],[242,10,257,16],[243,10,258,16],[243,14,258,20],[244,12,259,20],[244,18,259,26,"previousOperation"],[244,35,259,43],[245,10,260,16],[245,11,260,17],[245,12,261,16],[245,19,261,23,"prevError"],[245,28,261,32],[245,30,261,34],[246,12,262,20],[247,10,262,20],[248,10,264,16],[248,17,264,23],[248,21,264,27],[249,8,265,12],[250,8,266,12],[250,14,266,18,"e"],[250,15,266,19],[251,6,267,8],[252,4,268,4],[252,5,268,5],[252,7,268,7],[252,8,268,8],[253,4,269,4],[254,4,270,4],[255,4,271,4],[255,11,271,11],[255,17,271,17,"currentOperation"],[255,33,271,33],[256,2,272,0],[257,0,272,1],[257,3]],"functionMap":{"names":["<global>","LockAcquireTimeoutError","LockAcquireTimeoutError#constructor","NavigatorLockAcquireTimeoutError","ProcessLockAcquireTimeoutError","navigatorLock","setTimeout$argument_0","globalThis.navigator.locks.request$argument_2","processLock","<anonymous>","Promise$argument_0","filter$argument_0"],"mappings":"AAA;ACkC;ICC;KDG;CDC;AGY;CHC;AIY;CJC;AKiC;mBCM;SDK;eEiB;SFuC;CLW;AQsB;sCCK;KDS;8BCC;8BCK;2CJC;qBIK;iBDC;iFEE,QF;KDqB;2BCC;KDkB;CRI"},"hasCjsExports":true},"type":"js/module"}]}