{"dependencies":[{"name":"./VelocityTracker","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":46,"index":152},"end":{"line":7,"column":74,"index":180}}],"key":"VUGlETc2+aFibWH7OE7MA+QYMfY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,_i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.default=void 0;var e,t=(e=r(d[0]))&&e.__esModule?e:{default:e};_e.default=class{velocityTracker=new t.default;_trackedPointers=new Map;touchEventsIds=new Map;cachedAbsoluteAverages={x:0,y:0};cachedRelativeAverages={x:0,y:0};constructor(){this.lastMovedPointerId=NaN;for(let e=0;e<20;++e)this.touchEventsIds.set(e,NaN)}addToTracker(e){if(this.trackedPointers.has(e.pointerId))return;this.lastMovedPointerId=e.pointerId;const t={abosoluteCoords:{x:e.x,y:e.y},relativeCoords:{x:e.offsetX,y:e.offsetY},timestamp:e.time,velocityX:0,velocityY:0};this.trackedPointers.set(e.pointerId,t),this.mapTouchEventId(e.pointerId),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}removeFromTracker(e){this.trackedPointers.delete(e),this.removeMappedTouchId(e)}track(e){const t=this.trackedPointers.get(e.pointerId);if(!t)return;this.lastMovedPointerId=e.pointerId,this.velocityTracker.add(e);const[s,o]=this.velocityTracker.velocity;t.velocityX=s,t.velocityY=o,t.abosoluteCoords={x:e.x,y:e.y},t.relativeCoords={x:e.offsetX,y:e.offsetY},this.trackedPointers.set(e.pointerId,t),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}mapTouchEventId(e){for(const[t,s]of this.touchEventsIds)if(isNaN(s)){this.touchEventsIds.set(t,e);break}}removeMappedTouchId(e){const t=this.getMappedTouchEventId(e);isNaN(t)||this.touchEventsIds.set(t,NaN)}getMappedTouchEventId(e){for(const[t,s]of this.touchEventsIds.entries())if(s===e)return t;return NaN}getVelocity(e){const t=this.trackedPointers.get(e);return t?{x:t.velocityX,y:t.velocityY}:null}getLastAbsoluteCoords(e){return this.trackedPointers.get(e??this.lastMovedPointerId)?.abosoluteCoords}getLastRelativeCoords(e){return this.trackedPointers.get(e??this.lastMovedPointerId)?.relativeCoords}getAbsoluteCoordsAverage(){const e=this.getAbsoluteCoordsSum(),t=e.x/this.trackedPointers.size,s=e.y/this.trackedPointers.size;return{x:isNaN(t)?this.cachedAbsoluteAverages.x:t,y:isNaN(s)?this.cachedAbsoluteAverages.y:s}}getRelativeCoordsAverage(){const e=this.getRelativeCoordsSum(),t=e.x/this.trackedPointers.size,s=e.y/this.trackedPointers.size;return{x:isNaN(t)?this.cachedRelativeAverages.x:t,y:isNaN(s)?this.cachedRelativeAverages.y:s}}getAbsoluteCoordsSum(e){const t={x:0,y:0};return this.trackedPointers.forEach((s,o)=>{o!==e&&(t.x+=s.abosoluteCoords.x,t.y+=s.abosoluteCoords.y)}),t}getRelativeCoordsSum(e){const t={x:0,y:0};return this.trackedPointers.forEach((s,o)=>{o!==e&&(t.x+=s.relativeCoords.x,t.y+=s.relativeCoords.y)}),t}resetTracker(){this.velocityTracker.reset(),this.trackedPointers.clear(),this.lastMovedPointerId=NaN;for(let e=0;e<20;++e)this.touchEventsIds.set(e,NaN)}static shareCommonPointers(e,t){return e.some(e=>t.includes(e))}get trackedPointersCount(){return this.trackedPointers.size}get trackedPointersIDs(){const e=[];return this.trackedPointers.forEach((t,s)=>{e.push(s)}),e}get trackedPointers(){return this._trackedPointers}}});","lineCount":1,"map":[[1,30,1,0],[1,43,3,0,"Object"],[1,50,3,7,"defineProperty"],[1,65,3,22,"exports"],[1,68,3,31],[1,81,3,45],[1,82,4,2,"value"],[1,89,4,9],[1,93,6,0,"exports"],[1,96,6,8,"default"],[1,109,6,15,"undefined"],[1,111,7,0],[1,115,8,32,"e"],[1,117,7,4,"_VelocityTracker"],[1,120,8,32,"e"],[1,122,7,46,"require"],[1,124,7,53,"d"],[1,126,7,53],[1,132,8,49,"e"],[1,134,8,51,"__esModule"],[1,145,8,64,"e"],[1,147,8,68],[1,148,8,70,"default"],[1,156,8,79,"e"],[1,159,191,0,"exports"],[1,162,191,8,"default"],[1,170,10,0],[1,176,11,2,"velocityTracker"],[1,192,11,20],[1,196,11,24,"_VelocityTracker"],[1,198,11,41,"default"],[1,206,12,2,"_trackedPointers"],[1,223,12,21],[1,227,12,25,"Map"],[1,231,13,2,"touchEventsIds"],[1,246,13,19],[1,250,13,23,"Map"],[1,254,14,2,"cachedAbsoluteAverages"],[1,277,14,27],[1,278,15,4,"x"],[1,280,15,7],[1,282,16,4,"y"],[1,284,16,7],[1,287,18,2,"cachedRelativeAverages"],[1,310,18,27],[1,311,19,4,"x"],[1,313,19,7],[1,315,20,4,"y"],[1,317,20,7],[1,320,22,2,"constructor"],[1,334,23,4,"this"],[1,339,23,9,"lastMovedPointerId"],[1,358,23,30,"NaN"],[1,362,24,4],[1,366,24,9],[1,370,24,13,"i"],[1,372,24,17],[1,374,24,20,"i"],[1,376,9,21],[1,381,24,40,"i"],[1,383,25,6,"this"],[1,388,25,11,"touchEventsIds"],[1,403,25,26,"set"],[1,407,25,30,"i"],[1,409,25,33,"NaN"],[1,413,27,2],[1,414,28,2,"addToTracker"],[1,427,28,15,"event"],[1,430,29,4],[1,433,29,8,"this"],[1,438,29,13,"trackedPointers"],[1,454,29,29,"has"],[1,458,29,33,"event"],[1,460,29,39,"pointerId"],[1,471,30,6],[1,478,32,4,"this"],[1,483,32,9,"lastMovedPointerId"],[1,502,32,30,"event"],[1,504,32,36,"pointerId"],[1,514,33,4],[1,520,33,10,"newElement"],[1,522,33,23],[1,523,34,6,"abosoluteCoords"],[1,539,34,23],[1,540,35,8,"x"],[1,542,35,11,"event"],[1,544,35,17,"x"],[1,546,36,8,"y"],[1,548,36,11,"event"],[1,550,36,17,"y"],[1,553,38,6,"relativeCoords"],[1,568,38,22],[1,569,39,8,"x"],[1,571,39,11,"event"],[1,573,39,17,"offsetX"],[1,581,40,8,"y"],[1,583,40,11,"event"],[1,585,40,17,"offsetY"],[1,594,42,6,"timestamp"],[1,604,42,17,"event"],[1,606,42,23,"time"],[1,611,43,6,"velocityX"],[1,621,43,17],[1,623,44,6,"velocityY"],[1,633,44,17],[1,636,46,4,"this"],[1,641,46,9,"trackedPointers"],[1,657,46,25,"set"],[1,661,46,29,"event"],[1,663,46,35,"pointerId"],[1,673,46,46,"newElement"],[1,676,47,4,"this"],[1,681,47,9,"mapTouchEventId"],[1,697,47,25,"event"],[1,699,47,31,"pointerId"],[1,710,48,4,"this"],[1,715,48,9,"cachedAbsoluteAverages"],[1,738,48,34,"this"],[1,743,48,39,"getAbsoluteCoordsAverage"],[1,770,49,4,"this"],[1,775,49,9,"cachedRelativeAverages"],[1,798,49,34,"this"],[1,803,49,39,"getRelativeCoordsAverage"],[1,829,50,2],[1,830,51,2,"removeFromTracker"],[1,848,51,20,"pointerId"],[1,851,52,4,"this"],[1,856,52,9,"trackedPointers"],[1,872,52,25,"delete"],[1,879,52,32,"pointerId"],[1,882,53,4,"this"],[1,887,53,9,"removeMappedTouchId"],[1,907,53,29,"pointerId"],[1,909,54,2],[1,910,55,2,"track"],[1,916,55,8,"event"],[1,919,56,4],[1,925,56,10,"pointerData"],[1,927,56,24,"this"],[1,932,56,29,"trackedPointers"],[1,948,56,45,"get"],[1,952,56,49,"event"],[1,954,56,55,"pointerId"],[1,965,57,4],[1,969,57,9,"pointerData"],[1,971,58,6],[1,978,60,4,"this"],[1,983,60,9,"lastMovedPointerId"],[1,1002,60,30,"event"],[1,1004,60,36,"pointerId"],[1,1014,61,4,"this"],[1,1019,61,9,"velocityTracker"],[1,1035,61,25,"add"],[1,1039,61,29,"event"],[1,1042,62,4],[1,1048,62,11,"velocityX"],[1,1050,62,22,"velocityY"],[1,1053,62,35,"this"],[1,1058,62,40,"velocityTracker"],[1,1074,62,56,"velocity"],[1,1083,63,4,"pointerData"],[1,1085,63,16,"velocityX"],[1,1095,63,28,"velocityX"],[1,1097,64,4,"pointerData"],[1,1099,64,16,"velocityY"],[1,1109,64,28,"velocityY"],[1,1111,65,4,"pointerData"],[1,1113,65,16,"abosoluteCoords"],[1,1129,65,34],[1,1130,66,6,"x"],[1,1132,66,9,"event"],[1,1134,66,15,"x"],[1,1136,67,6,"y"],[1,1138,67,9,"event"],[1,1140,67,15,"y"],[1,1143,69,4,"pointerData"],[1,1145,69,16,"relativeCoords"],[1,1160,69,33],[1,1161,70,6,"x"],[1,1163,70,9,"event"],[1,1165,70,15,"offsetX"],[1,1173,71,6,"y"],[1,1175,71,9,"event"],[1,1177,71,15,"offsetY"],[1,1186,73,4,"this"],[1,1191,73,9,"trackedPointers"],[1,1207,73,25,"set"],[1,1211,73,29,"event"],[1,1213,73,35,"pointerId"],[1,1223,73,46,"pointerData"],[1,1226,74,4,"this"],[1,1231,74,9,"cachedAbsoluteAverages"],[1,1254,74,34,"this"],[1,1259,74,39,"getAbsoluteCoordsAverage"],[1,1286,75,4,"this"],[1,1291,75,9,"cachedRelativeAverages"],[1,1314,75,34,"this"],[1,1319,75,39,"getRelativeCoordsAverage"],[1,1345,76,2],[1,1346,79,2,"mapTouchEventId"],[1,1362,79,18,"id"],[1,1365,80,4],[1,1369,80,9],[1,1375,80,16,"mappedId"],[1,1377,80,26,"touchId"],[1,1382,80,38,"this"],[1,1387,80,43,"touchEventsIds"],[1,1402,81,6],[1,1405,81,10,"isNaN"],[1,1411,81,16,"touchId"],[1,1414,81,26],[1,1415,82,8,"this"],[1,1420,82,13,"touchEventsIds"],[1,1435,82,28,"set"],[1,1439,82,32,"mappedId"],[1,1441,82,42,"id"],[1,1444,83,8],[1,1449,84,6],[1,1450,86,2],[1,1451,87,2,"removeMappedTouchId"],[1,1471,87,22,"id"],[1,1474,88,4],[1,1480,88,10,"mappedId"],[1,1482,88,21,"this"],[1,1487,88,26,"getMappedTouchEventId"],[1,1509,88,48,"id"],[1,1512,89,9,"isNaN"],[1,1518,89,15,"mappedId"],[1,1522,90,6,"this"],[1,1527,90,11,"touchEventsIds"],[1,1542,90,26,"set"],[1,1546,90,30,"mappedId"],[1,1548,90,40,"NaN"],[1,1552,92,2],[1,1553,93,2,"getMappedTouchEventId"],[1,1575,93,24,"touchEventId"],[1,1578,94,4],[1,1582,94,9],[1,1588,94,16,"key"],[1,1590,94,21,"value"],[1,1595,94,31,"this"],[1,1600,94,36,"touchEventsIds"],[1,1615,94,51,"entries"],[1,1625,95,6],[1,1628,95,10,"value"],[1,1632,95,20,"touchEventId"],[1,1634,96,8],[1,1641,96,15,"key"],[1,1643,99,4],[1,1650,99,11,"NaN"],[1,1653,100,2],[1,1654,101,2,"getVelocity"],[1,1666,101,14,"pointerId"],[1,1669,102,4],[1,1675,102,10,"pointerData"],[1,1677,102,24,"this"],[1,1682,102,29,"trackedPointers"],[1,1698,102,45,"get"],[1,1702,102,49,"pointerId"],[1,1705,103,4],[1,1712,103,11,"pointerData"],[1,1714,103,25],[1,1715,104,6,"x"],[1,1717,104,9,"pointerData"],[1,1719,104,21,"velocityX"],[1,1729,105,6,"y"],[1,1731,105,9,"pointerData"],[1,1733,105,21,"velocityY"],[1,1744,106,8],[1,1748,107,2],[1,1749,108,2,"getLastAbsoluteCoords"],[1,1771,108,24,"pointerId"],[1,1774,109,4],[1,1781,109,11,"this"],[1,1786,109,16,"trackedPointers"],[1,1802,109,32,"get"],[1,1806,109,36,"pointerId"],[1,1809,109,49,"this"],[1,1814,109,54,"lastMovedPointerId"],[1,1835,109,75,"abosoluteCoords"],[1,1850,110,2],[1,1851,111,2,"getLastRelativeCoords"],[1,1873,111,24,"pointerId"],[1,1876,112,4],[1,1883,112,11,"this"],[1,1888,112,16,"trackedPointers"],[1,1904,112,32,"get"],[1,1908,112,36,"pointerId"],[1,1911,112,49,"this"],[1,1916,112,54,"lastMovedPointerId"],[1,1937,112,75,"relativeCoords"],[1,1951,113,2],[1,1952,120,2,"getAbsoluteCoordsAverage"],[1,1979,121,4],[1,1985,121,10,"coordsSum"],[1,1987,121,22,"this"],[1,1992,121,27,"getAbsoluteCoordsSum"],[1,2015,122,10,"avgX"],[1,2017,122,17,"coordsSum"],[1,2019,122,27,"x"],[1,2021,122,31,"this"],[1,2026,122,36,"trackedPointers"],[1,2042,122,52,"size"],[1,2047,123,10,"avgY"],[1,2049,123,17,"coordsSum"],[1,2051,123,27,"y"],[1,2053,123,31,"this"],[1,2058,123,36,"trackedPointers"],[1,2074,123,52,"size"],[1,2079,128,4],[1,2085,124,21],[1,2086,125,6,"x"],[1,2088,125,9,"isNaN"],[1,2094,125,15,"avgX"],[1,2097,125,23,"this"],[1,2102,125,28,"cachedAbsoluteAverages"],[1,2125,125,51,"x"],[1,2127,125,55,"avgX"],[1,2129,126,6,"y"],[1,2131,126,9,"isNaN"],[1,2137,126,15,"avgY"],[1,2140,126,23,"this"],[1,2145,126,28,"cachedAbsoluteAverages"],[1,2168,126,51,"y"],[1,2170,126,55,"avgY"],[1,2172,129,2],[1,2173,130,2,"getRelativeCoordsAverage"],[1,2200,131,4],[1,2206,131,10,"coordsSum"],[1,2208,131,22,"this"],[1,2213,131,27,"getRelativeCoordsSum"],[1,2236,132,10,"avgX"],[1,2238,132,17,"coordsSum"],[1,2240,132,27,"x"],[1,2242,132,31,"this"],[1,2247,132,36,"trackedPointers"],[1,2263,132,52,"size"],[1,2268,133,10,"avgY"],[1,2270,133,17,"coordsSum"],[1,2272,133,27,"y"],[1,2274,133,31,"this"],[1,2279,133,36,"trackedPointers"],[1,2295,133,52,"size"],[1,2300,138,4],[1,2306,134,21],[1,2307,135,6,"x"],[1,2309,135,9,"isNaN"],[1,2315,135,15,"avgX"],[1,2318,135,23,"this"],[1,2323,135,28,"cachedRelativeAverages"],[1,2346,135,51,"x"],[1,2348,135,55,"avgX"],[1,2350,136,6,"y"],[1,2352,136,9,"isNaN"],[1,2358,136,15,"avgY"],[1,2361,136,23,"this"],[1,2366,136,28,"cachedRelativeAverages"],[1,2389,136,51,"y"],[1,2391,136,55,"avgY"],[1,2393,139,2],[1,2394,140,2,"getAbsoluteCoordsSum"],[1,2415,140,23,"ignoredPointer"],[1,2418,141,4],[1,2424,141,10,"sum"],[1,2426,141,16],[1,2427,142,6,"x"],[1,2429,142,9],[1,2431,143,6,"y"],[1,2433,143,9],[1,2436,151,4],[1,2443,145,4,"this"],[1,2448,145,9,"trackedPointers"],[1,2464,145,25,"forEach"],[1,2472,145,33],[1,2473,145,34,"value"],[1,2475,145,41,"key"],[1,2480,146,10,"key"],[1,2484,146,18,"ignoredPointer"],[1,2488,147,8,"sum"],[1,2490,147,12,"x"],[1,2493,147,17,"value"],[1,2495,147,23,"abosoluteCoords"],[1,2511,147,39,"x"],[1,2513,148,8,"sum"],[1,2515,148,12,"y"],[1,2518,148,17,"value"],[1,2520,148,23,"abosoluteCoords"],[1,2536,148,39,"y"],[1,2541,151,11,"sum"],[1,2542,152,2],[1,2543,153,2,"getRelativeCoordsSum"],[1,2564,153,23,"ignoredPointer"],[1,2567,154,4],[1,2573,154,10,"sum"],[1,2575,154,16],[1,2576,155,6,"x"],[1,2578,155,9],[1,2580,156,6,"y"],[1,2582,156,9],[1,2585,164,4],[1,2592,158,4,"this"],[1,2597,158,9,"trackedPointers"],[1,2613,158,25,"forEach"],[1,2621,158,33],[1,2622,158,34,"value"],[1,2624,158,41,"key"],[1,2629,159,10,"key"],[1,2633,159,18,"ignoredPointer"],[1,2637,160,8,"sum"],[1,2639,160,12,"x"],[1,2642,160,17,"value"],[1,2644,160,23,"relativeCoords"],[1,2659,160,38,"x"],[1,2661,161,8,"sum"],[1,2663,161,12,"y"],[1,2666,161,17,"value"],[1,2668,161,23,"relativeCoords"],[1,2683,161,38,"y"],[1,2688,164,11,"sum"],[1,2689,165,2],[1,2690,166,2,"resetTracker"],[1,2705,167,4,"this"],[1,2710,167,9,"velocityTracker"],[1,2726,167,25,"reset"],[1,2734,168,4,"this"],[1,2739,168,9,"trackedPointers"],[1,2755,168,25,"clear"],[1,2763,169,4,"this"],[1,2768,169,9,"lastMovedPointerId"],[1,2787,169,30,"NaN"],[1,2791,170,4],[1,2795,170,9],[1,2799,170,13,"i"],[1,2801,170,17],[1,2803,170,20,"i"],[1,2805,9,21],[1,2810,170,40,"i"],[1,2812,171,6,"this"],[1,2817,171,11,"touchEventsIds"],[1,2832,171,26,"set"],[1,2836,171,30,"i"],[1,2838,171,33,"NaN"],[1,2842,173,2],[1,2843,174,2],[1,2869,174,9,"shareCommonPointers"],[1,2870,174,29,"stPointers"],[1,2872,174,41,"ndPointers"],[1,2875,175,4],[1,2882,175,11,"stPointers"],[1,2884,175,22,"some"],[1,2889,175,27,"pointerId"],[1,2892,175,40,"ndPointers"],[1,2894,175,51,"includes"],[1,2903,175,60,"pointerId"],[1,2906,176,2],[1,2907,177,2],[1,2931,177,6,"trackedPointersCount"],[1,2934,178,4],[1,2941,178,11,"this"],[1,2946,178,16,"trackedPointers"],[1,2962,178,32,"size"],[1,2966,179,2],[1,2967,180,2],[1,2989,180,6,"trackedPointersIDs"],[1,2992,181,4],[1,2998,181,10,"keys"],[1,3000,181,17],[1,3003,185,4],[1,3010,182,4,"this"],[1,3015,182,9,"trackedPointers"],[1,3031,182,25,"forEach"],[1,3039,182,33],[1,3040,182,34,"_value"],[1,3042,182,42,"key"],[1,3047,183,6,"keys"],[1,3049,183,11,"push"],[1,3054,183,16,"key"],[1,3059,185,11,"keys"],[1,3060,186,2],[1,3061,187,2],[1,3080,187,6,"trackedPointers"],[1,3083,188,4],[1,3090,188,11,"this"],[1,3095,188,16,"_trackedPointers"],[1,3111,189,2],[1,3113,191,33],[1,3116]],"functionMap":{"names":["<global>","_interopRequireDefault","PointerTracker","constructor","addToTracker","removeFromTracker","track","mapTouchEventId","removeMappedTouchId","getMappedTouchEventId","getVelocity","getLastAbsoluteCoords","getLastRelativeCoords","getAbsoluteCoordsAverage","getRelativeCoordsAverage","getAbsoluteCoordsSum","trackedPointers.forEach$argument_0","getRelativeCoordsSum","resetTracker","shareCommonPointers","stPointers.some$argument_0","get__trackedPointersCount","get__trackedPointersIDs","get__trackedPointers"],"mappings":"AAA;ACO,qFD;AEE;ECY;GDK;EEC;GFsB;EGC;GHG;EIC;GJqB;EKG;GLO;EMC;GNK;EOC;GPO;EQC;GRM;ESC;GTE;EUC;GVE;EWO;GXS;EYC;GZS;EaC;iCCK;KDK;GbE;EeC;iCDK;KCK;GfE;EgBC;GhBO;EiBC;2BCC,2CD;GjBC;EmBC;GnBE;EoBC;iCNE;KME;GpBE;EqBC;GrBE;CFC"},"hasCjsExports":true},"type":"js/module"}]}