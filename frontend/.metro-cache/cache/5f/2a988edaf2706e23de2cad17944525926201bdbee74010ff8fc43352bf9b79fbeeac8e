{"dependencies":[{"name":"../../State","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":13,"index":119},"end":{"line":7,"column":35,"index":141}}],"key":"isk6DFwvBR7hH+nInAlMqUOxHEs=","exportNames":["*"],"imports":1}},{"name":"../constants","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":17,"index":160},"end":{"line":8,"column":40,"index":183}}],"key":"zmjjtqoQxi2W71eIMIIaEi1mOpU=","exportNames":["*"],"imports":1}},{"name":"./GestureHandler","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":45,"index":230},"end":{"line":9,"column":72,"index":257}}],"key":"Dyu05fXkMyZwC6kSiKGxm+x47LU=","exportNames":["*"],"imports":1}},{"name":"../detectors/ScaleGestureDetector","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":51,"index":311},"end":{"line":10,"column":95,"index":355}}],"key":"t/QhOnjCcZazf3aVkBUmVfhzkwM=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.default=void 0;var t=r(d[0]),e=r(d[1]),s=n(r(d[2])),o=n(r(d[3]));function n(t){return t&&t.__esModule?t:{default:t}}class c extends s.default{scale=1;velocity=0;startingSpan=0;spanSlop=e.DEFAULT_TOUCH_SLOP;scaleDetectorListener={onScaleBegin:t=>(this.startingSpan=t.currentSpan,!0),onScale:e=>{const s=this.scale;this.scale*=e.calculateScaleFactor(this.tracker.trackedPointersCount);const o=e.timeDelta;return o>0&&(this.velocity=(this.scale-s)/o),Math.abs(this.startingSpan-e.currentSpan)>=this.spanSlop&&this.state===t.State.BEGAN&&this.activate(),!0},onScaleEnd:t=>{}};scaleGestureDetector=new o.default(this.scaleDetectorListener);init(t,e){super.init(t,e),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{focalX:this.scaleGestureDetector.focusX,focalY:this.scaleGestureDetector.focusY,velocity:this.velocity,scale:this.scale}}onPointerDown(t){this.tracker.addToTracker(t),super.onPointerDown(t),this.tryToSendTouchEvent(t)}onPointerAdd(t){this.tracker.addToTracker(t),super.onPointerAdd(t),this.tryBegin(),this.scaleGestureDetector.onTouchEvent(t,this.tracker)}onPointerUp(e){super.onPointerUp(e),this.tracker.removeFromTracker(e.pointerId),this.state===t.State.ACTIVE&&(this.scaleGestureDetector.onTouchEvent(e,this.tracker),this.state===t.State.ACTIVE?this.end():this.fail())}onPointerRemove(e){super.onPointerRemove(e),this.scaleGestureDetector.onTouchEvent(e,this.tracker),this.tracker.removeFromTracker(e.pointerId),this.state===t.State.ACTIVE&&this.tracker.trackedPointersCount<2&&this.end()}onPointerMove(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerMove(t))}onPointerOutOfBounds(t){this.tracker.trackedPointersCount<2||(this.tracker.track(t),this.scaleGestureDetector.onTouchEvent(t,this.tracker),super.onPointerOutOfBounds(t))}tryBegin(){this.state===t.State.UNDETERMINED&&(this.resetProgress(),this.begin())}activate(e){this.state!==t.State.ACTIVE&&this.resetProgress(),super.activate(e)}onReset(){this.resetProgress()}resetProgress(){this.state!==t.State.ACTIVE&&(this.velocity=0,this.scale=1)}}_e.default=c});","lineCount":1,"map":[[1,29,1,0],[1,42,3,0,"Object"],[1,49,3,7,"defineProperty"],[1,64,3,22,"exports"],[1,67,3,31],[1,80,3,45],[1,81,4,2,"value"],[1,88,4,9],[1,92,6,0,"exports"],[1,95,6,8,"default"],[1,108,6,15,"undefined"],[1,110,7,0],[1,114,7,4,"_State"],[1,116,7,13,"require"],[1,118,7,20,"d"],[1,120,7,20],[1,124,8,4,"_constants"],[1,126,8,17,"require"],[1,128,8,24,"d"],[1,130,8,24],[1,134,9,4,"_GestureHandler"],[1,136,9,22,"_interopRequireDefault"],[1,138,9,45,"require"],[1,140,9,52,"d"],[1,142,9,52],[1,147,10,4,"_ScaleGestureDetector"],[1,149,10,28,"_interopRequireDefault"],[1,151,10,51,"require"],[1,153,10,58,"d"],[1,155,10,58],[1,160,11,0],[1,169,11,9,"_interopRequireDefault"],[1,171,11,32,"e"],[1,174,11,37],[1,181,11,44,"e"],[1,184,11,49,"e"],[1,186,11,51,"__esModule"],[1,197,11,64,"e"],[1,199,11,68],[1,200,11,70,"default"],[1,208,11,79,"e"],[1,210,11,84],[1,211,12,0],[1,217,12,6,"PinchGestureHandler"],[1,227,12,34,"_GestureHandler"],[1,229,12,50,"default"],[1,237,13,2,"scale"],[1,243,13,10],[1,245,14,2,"velocity"],[1,254,14,13],[1,256,15,2,"startingSpan"],[1,269,15,17],[1,271,16,2,"spanSlop"],[1,280,16,13,"_constants"],[1,282,16,24,"DEFAULT_TOUCH_SLOP"],[1,301,17,2,"scaleDetectorListener"],[1,323,17,26],[1,324,18,4,"onScaleBegin"],[1,337,18,18,"detector"],[1,341,19,6,"this"],[1,346,19,11,"startingSpan"],[1,359,19,26,"detector"],[1,361,19,35,"currentSpan"],[1,374,20,13],[1,377,22,4,"onScale"],[1,385,22,13,"detector"],[1,389,23,6],[1,395,23,12,"prevScaleFactor"],[1,397,23,30,"this"],[1,402,23,35,"scale"],[1,408,24,6,"this"],[1,413,24,11,"scale"],[1,420,24,20,"detector"],[1,422,24,29,"calculateScaleFactor"],[1,443,24,50,"this"],[1,448,24,55,"tracker"],[1,456,24,63,"trackedPointersCount"],[1,478,25,6],[1,484,25,12,"delta"],[1,486,25,20,"detector"],[1,488,25,29,"timeDelta"],[1,498,32,6],[1,505,26,10,"delta"],[1,507,26,18],[1,511,27,8,"this"],[1,516,27,13,"velocity"],[1,526,27,25,"this"],[1,531,27,30,"scale"],[1,537,27,38,"prevScaleFactor"],[1,540,27,57,"delta"],[1,543,29,10,"Math"],[1,548,29,15,"abs"],[1,552,29,19,"this"],[1,557,29,24,"startingSpan"],[1,570,29,39,"detector"],[1,572,29,48,"currentSpan"],[1,586,29,64,"this"],[1,591,29,69,"spanSlop"],[1,601,29,81,"this"],[1,606,29,86,"state"],[1,614,29,96,"_State"],[1,616,29,103,"State"],[1,622,29,109,"BEGAN"],[1,629,30,8,"this"],[1,634,30,13,"activate"],[1,646,32,13],[1,649,34,4,"onScaleEnd"],[1,660,34,16,"_detector"],[1,667,36,2,"scaleGestureDetector"],[1,688,36,25],[1,692,36,29,"_ScaleGestureDetector"],[1,694,36,51,"default"],[1,702,36,59,"this"],[1,707,36,64,"scaleDetectorListener"],[1,730,37,2,"init"],[1,735,37,7,"ref"],[1,737,37,12,"propsRef"],[1,740,38,4,"super"],[1,746,38,10,"init"],[1,751,38,15,"ref"],[1,753,38,20,"propsRef"],[1,756,39,4,"this"],[1,761,39,9,"shouldCancelWhenOutside"],[1,786,39,35],[1,787,40,2],[1,788,41,2,"transformNativeEvent"],[1,811,42,4],[1,817,42,11],[1,818,43,6,"focalX"],[1,825,43,14,"this"],[1,830,43,19,"scaleGestureDetector"],[1,851,43,40,"focusX"],[1,858,44,6,"focalY"],[1,865,44,14,"this"],[1,870,44,19,"scaleGestureDetector"],[1,891,44,40,"focusY"],[1,898,45,6,"velocity"],[1,907,45,16,"this"],[1,912,45,21,"velocity"],[1,921,46,6,"scale"],[1,927,46,13,"this"],[1,932,46,18,"scale"],[1,938,48,2],[1,939,49,2,"onPointerDown"],[1,953,49,16,"event"],[1,956,50,4,"this"],[1,961,50,9,"tracker"],[1,969,50,17,"addToTracker"],[1,982,50,30,"event"],[1,985,51,4,"super"],[1,991,51,10,"onPointerDown"],[1,1005,51,24,"event"],[1,1008,52,4,"this"],[1,1013,52,9,"tryToSendTouchEvent"],[1,1033,52,29,"event"],[1,1035,53,2],[1,1036,54,2,"onPointerAdd"],[1,1049,54,15,"event"],[1,1052,55,4,"this"],[1,1057,55,9,"tracker"],[1,1065,55,17,"addToTracker"],[1,1078,55,30,"event"],[1,1081,56,4,"super"],[1,1087,56,10,"onPointerAdd"],[1,1100,56,23,"event"],[1,1103,57,4,"this"],[1,1108,57,9,"tryBegin"],[1,1119,58,4,"this"],[1,1124,58,9,"scaleGestureDetector"],[1,1145,58,30,"onTouchEvent"],[1,1158,58,43,"event"],[1,1160,58,50,"this"],[1,1165,58,55,"tracker"],[1,1173,59,2],[1,1174,60,2,"onPointerUp"],[1,1186,60,14,"event"],[1,1189,61,4,"super"],[1,1195,61,10,"onPointerUp"],[1,1207,61,22,"event"],[1,1210,62,4,"this"],[1,1215,62,9,"tracker"],[1,1223,62,17,"removeFromTracker"],[1,1241,62,35,"event"],[1,1243,62,41,"pointerId"],[1,1254,63,8,"this"],[1,1259,63,13,"state"],[1,1267,63,23,"_State"],[1,1269,63,30,"State"],[1,1275,63,36,"ACTIVE"],[1,1284,66,4,"this"],[1,1289,66,9,"scaleGestureDetector"],[1,1310,66,30,"onTouchEvent"],[1,1323,66,43,"event"],[1,1325,66,50,"this"],[1,1330,66,55,"tracker"],[1,1339,67,8,"this"],[1,1344,67,13,"state"],[1,1352,67,23,"_State"],[1,1354,67,30,"State"],[1,1360,67,36,"ACTIVE"],[1,1367,68,6,"this"],[1,1372,68,11,"end"],[1,1378,70,6,"this"],[1,1383,70,11,"fail"],[1,1390,72,2],[1,1391,73,2,"onPointerRemove"],[1,1407,73,18,"event"],[1,1410,74,4,"super"],[1,1416,74,10,"onPointerRemove"],[1,1432,74,26,"event"],[1,1435,75,4,"this"],[1,1440,75,9,"scaleGestureDetector"],[1,1461,75,30,"onTouchEvent"],[1,1474,75,43,"event"],[1,1476,75,50,"this"],[1,1481,75,55,"tracker"],[1,1490,76,4,"this"],[1,1495,76,9,"tracker"],[1,1503,76,17,"removeFromTracker"],[1,1521,76,35,"event"],[1,1523,76,41,"pointerId"],[1,1534,77,8,"this"],[1,1539,77,13,"state"],[1,1547,77,23,"_State"],[1,1549,77,30,"State"],[1,1555,77,36,"ACTIVE"],[1,1563,77,46,"this"],[1,1568,77,51,"tracker"],[1,1576,77,59,"trackedPointersCount"],[1,1597,77,82],[1,1600,78,6,"this"],[1,1605,78,11,"end"],[1,1610,80,2],[1,1611,81,2,"onPointerMove"],[1,1625,81,16,"event"],[1,1628,82,8,"this"],[1,1633,82,13,"tracker"],[1,1641,82,21,"trackedPointersCount"],[1,1662,82,44],[1,1666,85,4,"this"],[1,1671,85,9,"tracker"],[1,1679,85,17,"track"],[1,1685,85,23,"event"],[1,1688,86,4,"this"],[1,1693,86,9,"scaleGestureDetector"],[1,1714,86,30,"onTouchEvent"],[1,1727,86,43,"event"],[1,1729,86,50,"this"],[1,1734,86,55,"tracker"],[1,1743,87,4,"super"],[1,1749,87,10,"onPointerMove"],[1,1763,87,24,"event"],[1,1766,88,2],[1,1767,89,2,"onPointerOutOfBounds"],[1,1788,89,23,"event"],[1,1791,90,8,"this"],[1,1796,90,13,"tracker"],[1,1804,90,21,"trackedPointersCount"],[1,1825,90,44],[1,1829,93,4,"this"],[1,1834,93,9,"tracker"],[1,1842,93,17,"track"],[1,1848,93,23,"event"],[1,1851,94,4,"this"],[1,1856,94,9,"scaleGestureDetector"],[1,1877,94,30,"onTouchEvent"],[1,1890,94,43,"event"],[1,1892,94,50,"this"],[1,1897,94,55,"tracker"],[1,1906,95,4,"super"],[1,1912,95,10,"onPointerOutOfBounds"],[1,1933,95,31,"event"],[1,1936,96,2],[1,1937,97,2,"tryBegin"],[1,1948,98,8,"this"],[1,1953,98,13,"state"],[1,1961,98,23,"_State"],[1,1963,98,30,"State"],[1,1969,98,36,"UNDETERMINED"],[1,1984,101,4,"this"],[1,1989,101,9,"resetProgress"],[1,2005,102,4,"this"],[1,2010,102,9,"begin"],[1,2018,103,2],[1,2019,104,2,"activate"],[1,2028,104,11,"force"],[1,2031,105,8,"this"],[1,2036,105,13,"state"],[1,2044,105,23,"_State"],[1,2046,105,30,"State"],[1,2052,105,36,"ACTIVE"],[1,2060,106,6,"this"],[1,2065,106,11,"resetProgress"],[1,2081,108,4,"super"],[1,2087,108,10,"activate"],[1,2096,108,19,"force"],[1,2098,109,2],[1,2099,110,2,"onReset"],[1,2109,111,4,"this"],[1,2114,111,9,"resetProgress"],[1,2129,112,2],[1,2130,113,2,"resetProgress"],[1,2146,114,8,"this"],[1,2151,114,13,"state"],[1,2159,114,23,"_State"],[1,2161,114,30,"State"],[1,2167,114,36,"ACTIVE"],[1,2176,117,4,"this"],[1,2181,117,9,"velocity"],[1,2190,117,20],[1,2192,118,4,"this"],[1,2197,118,9,"scale"],[1,2203,118,17],[1,2205,119,2],[1,2207,121,0,"exports"],[1,2210,121,8,"default"],[1,2218,121,18,"PinchGestureHandler"],[1,2219,121,38],[1,2222]],"functionMap":{"names":["<global>","_interopRequireDefault","PinchGestureHandler","scaleDetectorListener.onScaleBegin","scaleDetectorListener.onScale","scaleDetectorListener.onScaleEnd","init","transformNativeEvent","onPointerDown","onPointerAdd","onPointerUp","onPointerRemove","onPointerMove","onPointerOutOfBounds","tryBegin","activate","onReset","resetProgress"],"mappings":"AAA;ACU,qFD;AEC;kBCM;KDG;aEC;KFW;gBGC,eH;EIG;GJG;EKC;GLO;EMC;GNI;EOC;GPK;EQC;GRY;ESC;GTO;EUC;GVO;EWC;GXO;EYC;GZM;EaC;GbK;EcC;GdE;EeC;GfM;CFC"},"hasCjsExports":true},"type":"js/module"}]}