{"dependencies":[{"name":"./helpers","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":6,"column":18,"index":315},"end":{"line":6,"column":38,"index":335}}],"key":"f1qS3jT0PALHpwfgOy1Ia0GaJzk=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";Object.defineProperty(_e,\"__esModule\",{value:!0}),_e.ProcessLockAcquireTimeoutError=_e.NavigatorLockAcquireTimeoutError=_e.LockAcquireTimeoutError=_e.internals=void 0,_e.navigatorLock=async function(e,o,s){_e.internals.debug&&console.log('@supabase/gotrue-js: navigatorLock: acquire lock',e,o);const n=new globalThis.AbortController;o>0&&setTimeout(()=>{n.abort(),_e.internals.debug&&console.log('@supabase/gotrue-js: navigatorLock acquire timed out',e)},o);await Promise.resolve();try{return await globalThis.navigator.locks.request(e,0===o?{mode:'exclusive',ifAvailable:!0}:{mode:'exclusive',signal:n.signal},async n=>{if(!n){if(0===o)throw _e.internals.debug&&console.log('@supabase/gotrue-js: navigatorLock: not immediately available',e),new t(`Acquiring an exclusive Navigator LockManager lock \"${e}\" immediately failed`);if(_e.internals.debug)try{const e=await globalThis.navigator.locks.query();console.log('@supabase/gotrue-js: Navigator LockManager state',JSON.stringify(e,null,'  '))}catch(e){console.warn('@supabase/gotrue-js: Error when querying Navigator LockManager state',e)}return console.warn('@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request'),await s()}_e.internals.debug&&console.log('@supabase/gotrue-js: navigatorLock: acquired',e,n.name);try{return await s()}finally{_e.internals.debug&&console.log('@supabase/gotrue-js: navigatorLock: released',e,n.name)}})}catch(s){if('AbortError'===(null==s?void 0:s.name))throw new t(`Acquiring an exclusive Navigator LockManager lock \"${e}\" timed out waiting ${o}ms`);throw s}},_e.processLock=async function(e,o,t){var c;const l=null!==(c=n[e])&&void 0!==c?c:Promise.resolve(),u=(async()=>{try{return await l,null}catch(e){return null}})(),b=(async()=>{let n=null;try{const t=o>=0?new Promise((t,c)=>{n=setTimeout(()=>{console.warn(`@supabase/gotrue-js: Lock \"${e}\" acquisition timed out after ${o}ms. This may be caused by another operation holding the lock. Consider increasing lockAcquireTimeout or checking for stuck operations.`),c(new s(`Acquiring process lock with name \"${e}\" timed out`))},o)}):null;await Promise.race([u,t].filter(e=>e)),null!==n&&clearTimeout(n)}catch(e){if(null!==n&&clearTimeout(n),e&&e.isAcquireTimeout)throw e}return await t()})();return n[e]=(async()=>{try{return await b}catch(e){if(e&&e.isAcquireTimeout){try{await l}catch(e){}return null}throw e}})(),await b};const e=r(d[0]);_e.internals={debug:!!(globalThis&&(0,e.supportsLocalStorage)()&&globalThis.localStorage&&'true'===globalThis.localStorage.getItem('supabase.gotrue-js.locks.debug'))};class o extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}_e.LockAcquireTimeoutError=o;class t extends o{}_e.NavigatorLockAcquireTimeoutError=t;class s extends o{}_e.ProcessLockAcquireTimeoutError=s;const n={}});","lineCount":1,"map":[[1,29,1,0],[1,42,2,0,"Object"],[1,49,2,7,"defineProperty"],[1,64,2,22,"exports"],[1,67,2,31],[1,80,2,45],[1,81,2,47,"value"],[1,88,2,54],[1,92,3,0,"exports"],[1,95,3,8,"ProcessLockAcquireTimeoutError"],[1,126,3,41,"exports"],[1,129,3,49,"NavigatorLockAcquireTimeoutError"],[1,162,3,84,"exports"],[1,165,3,92,"LockAcquireTimeoutError"],[1,189,3,118,"exports"],[1,192,3,126,"internals"],[1,207,3,135,"undefined"],[1,209,4,0,"exports"],[1,212,4,8,"navigatorLock"],[1,226,99,0,"async"],[1,241,99,29,"name"],[1,243,99,35,"acquireTimeout"],[1,245,99,51,"fn"],[1,248,100,8,"exports"],[1,251,100,16,"internals"],[1,261,100,26,"debug"],[1,268,101,8,"console"],[1,276,101,16,"log"],[1,280,101,20],[1,331,101,72,"name"],[1,333,101,78,"acquireTimeout"],[1,336,103,4],[1,342,103,10,"abortController"],[1,344,103,28],[1,348,103,32,"globalThis"],[1,359,103,43,"AbortController"],[1,375,104,8,"acquireTimeout"],[1,377,104,25],[1,380,105,8,"setTimeout"],[1,391,105,19],[1,396,106,12,"abortController"],[1,398,106,28,"abort"],[1,406,107,16,"exports"],[1,409,107,24,"internals"],[1,419,107,34,"debug"],[1,426,108,16,"console"],[1,434,108,24,"log"],[1,438,108,28],[1,493,108,84,"name"],[1,497,110,11,"acquireTimeout"],[1,506,117,10,"Promise"],[1,514,117,18,"resolve"],[1,524,118,4],[1,528,119,8],[1,541,119,21,"globalThis"],[1,552,119,32,"navigator"],[1,562,119,42,"locks"],[1,568,119,48,"request"],[1,576,119,56,"name"],[1,578,119,81],[1,582,119,62,"acquireTimeout"],[1,584,120,14],[1,585,121,16,"mode"],[1,590,121,22],[1,602,122,16,"ifAvailable"],[1,615,122,29],[1,618,124,14],[1,619,125,16,"mode"],[1,624,125,22],[1,636,126,16,"signal"],[1,643,126,24,"abortController"],[1,645,126,40,"signal"],[1,653,127,15,"async"],[1,663,128,12],[1,667,128,16,"lock"],[1,669,141,17],[1,670,142,16],[1,673,142,39],[1,677,142,20,"acquireTimeout"],[1,679,146,20],[1,685,143,24,"exports"],[1,688,143,32,"internals"],[1,698,143,42,"debug"],[1,705,144,24,"console"],[1,713,144,32,"log"],[1,717,144,36],[1,781,144,101,"name"],[1,784,146,26],[1,788,146,30,"NavigatorLockAcquireTimeoutError"],[1,790,146,63],[1,844,146,117,"name"],[1,869,149,20],[1,872,149,24,"exports"],[1,875,149,32,"internals"],[1,885,149,42,"debug"],[1,891,150,24],[1,895,151,28],[1,901,151,34,"result"],[1,909,151,49,"globalThis"],[1,920,151,60,"navigator"],[1,930,151,70,"locks"],[1,936,151,76,"query"],[1,944,152,28,"console"],[1,952,152,36,"log"],[1,956,152,40],[1,1007,152,92,"JSON"],[1,1012,152,97,"stringify"],[1,1022,152,107,"result"],[1,1024,152,115],[1,1029,152,121],[1,1035,153,24],[1,1036,154,24],[1,1042,154,31,"e"],[1,1045,155,28,"console"],[1,1053,155,36,"warn"],[1,1058,155,41],[1,1129,155,113,"e"],[1,1131,156,24],[1,1132,163,20],[1,1139,162,20,"console"],[1,1147,162,28,"warn"],[1,1152,162,33],[1,1409,163,33,"fn"],[1,1412,165,12],[1,1413,129,20,"exports"],[1,1416,129,28,"internals"],[1,1426,129,38,"debug"],[1,1433,130,20,"console"],[1,1441,130,28,"log"],[1,1445,130,32],[1,1492,130,80,"name"],[1,1494,130,86,"lock"],[1,1496,130,91,"name"],[1,1502,132,16],[1,1506,133,20],[1,1519,133,33,"fn"],[1,1522,134,16],[1,1523,134,17],[1,1531,136,24,"exports"],[1,1534,136,32,"internals"],[1,1544,136,42,"debug"],[1,1551,137,24,"console"],[1,1559,137,32,"log"],[1,1563,137,36],[1,1610,137,84,"name"],[1,1612,137,90,"lock"],[1,1614,137,95,"name"],[1,1619,139,16],[1,1622,167,4],[1,1623,168,4],[1,1629,168,11,"e"],[1,1632,172,8],[1,1635,172,63],[1,1651,172,13,"e"],[1,1664,172,39,"undefined"],[1,1666,172,51,"e"],[1,1668,172,53,"name"],[1,1674,173,12],[1,1680,173,18],[1,1684,173,22,"NavigatorLockAcquireTimeoutError"],[1,1686,173,55],[1,1740,173,109,"name"],[1,1764,173,136,"acquireTimeout"],[1,1771,175,8],[1,1777,175,14,"e"],[1,1778,176,4],[1,1779,177,0],[1,1781,5,0,"exports"],[1,1784,5,8,"processLock"],[1,1796,199,0,"async"],[1,1811,199,27,"name"],[1,1813,199,33,"acquireTimeout"],[1,1815,199,49,"fn"],[1,1818,200,4],[1,1822,200,8,"_a"],[1,1824,201,4],[1,1830,201,10,"previousOperation"],[1,1832,201,61],[1,1840,201,31,"_a"],[1,1842,201,36,"PROCESS_LOCKS"],[1,1844,201,50,"name"],[1,1854,201,71,"undefined"],[1,1858,201,69,"_a"],[1,1860,201,85,"_a"],[1,1862,201,90,"Promise"],[1,1870,201,98,"resolve"],[1,1880,204,10,"previousOperationHandled"],[1,1882,204,37],[1,1893,205,8],[1,1897,207,12],[1,1910,206,18,"previousOperation"],[1,1912,207,19],[1,1916,208,8],[1,1917,209,8],[1,1923,209,15,"e"],[1,1926,211,12],[1,1933,211,19],[1,1937,212,8],[1,1938,213,5],[1,1940,204,37],[1,1943,214,10,"currentOperation"],[1,1945,214,29],[1,1956,215,8],[1,1960,215,12,"timeoutId"],[1,1962,215,24],[1,1967,216,8],[1,1971,218,12],[1,1977,218,18,"timeoutPromise"],[1,1979,218,35,"acquireTimeout"],[1,1982,218,53],[1,1984,219,18],[1,1988,219,22,"Promise"],[1,1996,219,30],[1,1997,219,31,"_"],[1,1999,219,34,"reject"],[1,2004,220,20,"timeoutId"],[1,2006,220,32,"setTimeout"],[1,2017,220,43],[1,2022,221,24,"console"],[1,2030,221,32,"warn"],[1,2035,221,37],[1,2065,221,67,"name"],[1,2099,221,104,"acquireTimeout"],[1,2238,224,24,"reject"],[1,2240,224,31],[1,2244,224,35,"ProcessLockAcquireTimeoutError"],[1,2246,224,66],[1,2283,224,103,"name"],[1,2301,225,23,"acquireTimeout"],[1,2306,227,18],[1,2317,228,18,"Promise"],[1,2325,228,26,"race"],[1,2330,228,31],[1,2331,228,32,"previousOperationHandled"],[1,2333,228,58,"timeoutPromise"],[1,2336,228,74,"filter"],[1,2343,228,82,"x"],[1,2346,228,88,"x"],[1,2350,231,30],[1,2357,231,16,"timeoutId"],[1,2360,232,16,"clearTimeout"],[1,2373,232,29,"timeoutId"],[1,2375,234,8],[1,2376,235,8],[1,2382,235,15,"e"],[1,2385,241,12],[1,2388,237,30],[1,2395,237,16,"timeoutId"],[1,2398,238,16,"clearTimeout"],[1,2411,238,29,"timeoutId"],[1,2414,241,16,"e"],[1,2417,241,21,"e"],[1,2419,241,23,"isAcquireTimeout"],[1,2436,242,16],[1,2442,242,22,"e"],[1,2443,245,8],[1,2444,248,8],[1,2457,248,21,"fn"],[1,2460,249,5],[1,2462,214,29],[1,2465,271,4],[1,2472,250,4,"PROCESS_LOCKS"],[1,2474,250,18,"name"],[1,2477,250,26],[1,2488,251,8],[1,2492,252,12],[1,2505,252,25,"currentOperation"],[1,2506,253,8],[1,2507,254,8],[1,2513,254,15,"e"],[1,2516,255,12],[1,2519,255,16,"e"],[1,2522,255,21,"e"],[1,2524,255,23,"isAcquireTimeout"],[1,2541,255,41],[1,2542,258,16],[1,2552,259,26,"previousOperation"],[1,2553,260,16],[1,2554,261,16],[1,2560,261,23,"prevError"],[1,2563,262,20],[1,2564,264,16],[1,2571,264,23],[1,2575,265,12],[1,2576,266,12],[1,2582,266,18,"e"],[1,2583,267,8],[1,2584,268,5],[1,2586,250,26],[1,2595,271,17,"currentOperation"],[1,2596,272,0],[1,2598,6,0],[1,2604,6,6,"helpers_1"],[1,2606,6,18,"require"],[1,2608,6,25,"d"],[1,2610,6,25],[1,2614,10,0,"exports"],[1,2617,10,8,"internals"],[1,2627,10,20],[1,2628,14,4,"debug"],[1,2637,14,14,"globalThis"],[1,2650,15,8],[1,2652,15,12,"helpers_1"],[1,2654,15,22,"supportsLocalStorage"],[1,2679,16,8,"globalThis"],[1,2690,16,19,"localStorage"],[1,2704,17,78],[1,2713,17,8,"globalThis"],[1,2724,17,19,"localStorage"],[1,2737,17,32,"getItem"],[1,2745,17,40],[1,2781,35,0],[1,2787,35,6,"LockAcquireTimeoutError"],[1,2797,35,38,"Error"],[1,2803,36,4,"constructor"],[1,2815,36,16,"message"],[1,2818,37,8,"super"],[1,2824,37,14,"message"],[1,2827,38,8,"this"],[1,2832,38,13,"isAcquireTimeout"],[1,2850,38,32],[1,2851,39,4],[1,2853,41,0,"exports"],[1,2856,41,8,"LockAcquireTimeoutError"],[1,2880,41,34,"LockAcquireTimeoutError"],[1,2882,52,0],[1,2888,52,6,"NavigatorLockAcquireTimeoutError"],[1,2898,52,47,"LockAcquireTimeoutError"],[1,2901,54,0,"exports"],[1,2904,54,8,"NavigatorLockAcquireTimeoutError"],[1,2937,54,43,"NavigatorLockAcquireTimeoutError"],[1,2939,65,0],[1,2945,65,6,"ProcessLockAcquireTimeoutError"],[1,2955,65,45,"LockAcquireTimeoutError"],[1,2958,67,0,"exports"],[1,2961,67,8,"ProcessLockAcquireTimeoutError"],[1,2992,67,41,"ProcessLockAcquireTimeoutError"],[1,2994,178,0],[1,3000,178,6,"PROCESS_LOCKS"],[1,3002,178,22],[1,3003,178,23],[1,3004,272,1],[1,3007]],"functionMap":{"names":["<global>","LockAcquireTimeoutError","LockAcquireTimeoutError#constructor","NavigatorLockAcquireTimeoutError","ProcessLockAcquireTimeoutError","navigatorLock","setTimeout$argument_0","globalThis.navigator.locks.request$argument_2","processLock","<anonymous>","Promise$argument_0","filter$argument_0"],"mappings":"AAA;ACkC;ICC;KDG;CDC;AGY;CHC;AIY;CJC;AKiC;mBCM;SDK;eEiB;SFuC;CLW;AQsB;sCCK;KDS;8BCC;8BCK;2CJC;qBIK;iBDC;iFEE,QF;KDqB;2BCC;KDkB;CRI"},"hasCjsExports":true},"type":"js/module"}]}